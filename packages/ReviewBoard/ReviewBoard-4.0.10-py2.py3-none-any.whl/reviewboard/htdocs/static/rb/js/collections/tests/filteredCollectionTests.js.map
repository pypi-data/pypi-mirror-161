{"version":3,"sources":["filteredCollectionTests.es6.js"],"names":[],"mappings":"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","file":"filteredCollectionTests.js","sourcesContent":["suite('rb/collections/FilteredCollection', function() {\n    let mainCollection;\n\n    beforeEach(function() {\n        mainCollection = new Backbone.Collection([\n            {\n                id: 1,\n                label: 'One',\n                bool: true,\n            },\n            {\n                id: 2,\n                label: 'Two',\n                bool: false,\n            },\n            {\n                id: 3,\n                label: 'Three',\n                bool: true,\n            },\n        ]);\n    });\n\n    describe('Initialization', function() {\n        it('Defaults to full contents', function() {\n            const filteredCollection = new RB.FilteredCollection(null, {\n                collection: mainCollection,\n            });\n\n            expect(filteredCollection.length).toBe(mainCollection.length);\n        });\n\n        it('Respects provided filter', function() {\n            const filteredCollection = new RB.FilteredCollection(null, {\n                collection: mainCollection,\n                filters: {\n                    label: 'T',\n                },\n            });\n\n            expect(filteredCollection.length).toBe(2);\n            expect(filteredCollection.at(0).id).toBe(2);\n            expect(filteredCollection.at(1).id).toBe(3);\n        });\n    });\n\n    describe('Methods', function() {\n        let filteredCollection;\n\n        beforeEach(function() {\n            filteredCollection = new RB.FilteredCollection(null, {\n                collection: mainCollection,\n                filters: {\n                    label: 'T',\n                },\n            });\n\n            expect(filteredCollection.length).toBe(2);\n        });\n\n        describe('setFilters', function() {\n            it('With new filter', function() {\n                filteredCollection.setFilters({\n                    label: 'O',\n                });\n\n                expect(filteredCollection.length).toBe(1);\n                expect(filteredCollection.at(0).id).toBe(1);\n            });\n\n            it('With multiple filters', function() {\n                filteredCollection.setFilters({\n                    label: 'T',\n                    bool: false,\n                });\n\n                expect(filteredCollection.length).toBe(1);\n                expect(filteredCollection.at(0).id).toBe(2);\n            });\n\n            it('{}', function() {\n                filteredCollection.setFilters({});\n\n                expect(filteredCollection.length).toBe(3);\n            });\n\n            it('null', function() {\n                filteredCollection.setFilters(null);\n\n                expect(filteredCollection.length).toBe(3);\n            });\n\n            it('undefined', function() {\n                filteredCollection.setFilters();\n\n                expect(filteredCollection.length).toBe(3);\n            });\n        });\n    });\n\n    describe('Main collection events', function() {\n        describe('With filters', function() {\n            let filteredCollection;\n\n            beforeEach(function() {\n                filteredCollection = new RB.FilteredCollection(null, {\n                    collection: mainCollection,\n                    filters: {\n                        label: 'T',\n                    },\n                });\n\n                expect(filteredCollection.length).toBe(2);\n            });\n\n            it('reset', function() {\n                mainCollection.reset([\n                    {\n                        id: 10,\n                        label: 'Monday',\n                    },\n                    {\n                        id: 11,\n                        label: 'Tuesday',\n                    },\n                ]);\n\n                expect(filteredCollection.length).toBe(1);\n                expect(filteredCollection.at(0).id).toBe(11);\n            });\n\n            describe('add', function() {\n                it('Matching filter', function() {\n                    mainCollection.add({\n                        id: 4,\n                        label: 'Test',\n                    });\n\n                    expect(filteredCollection.length).toBe(3);\n                    expect(filteredCollection.at(2).id).toBe(4);\n                });\n\n                it('Not matching filter', function() {\n                    mainCollection.add({\n                        id: 4,\n                        label: 'Four',\n                    });\n\n                    expect(filteredCollection.length).toBe(2);\n                });\n            });\n\n            describe('remove', function() {\n                it('Matching filter', function() {\n                    mainCollection.remove(mainCollection.get(2));\n\n                    expect(filteredCollection.length).toBe(1);\n                });\n\n                it('Not matching filter', function() {\n                    mainCollection.remove(mainCollection.get(0));\n\n                    expect(filteredCollection.length).toBe(2);\n                });\n            });\n        });\n\n        describe('Without filters', function() {\n            let filteredCollection;\n\n            beforeEach(function() {\n                filteredCollection = new RB.FilteredCollection(null, {\n                    collection: mainCollection,\n                });\n\n                expect(filteredCollection.length).toBe(3);\n            });\n\n            it('reset', function() {\n                mainCollection.reset([\n                    {\n                        id: 10,\n                        label: 'Monday',\n                    },\n                    {\n                        id: 11,\n                        label: 'Tuesday',\n                    },\n                ]);\n\n                expect(filteredCollection.length).toBe(2);\n            });\n\n            it('add', function() {\n                mainCollection.add({\n                    id: 4,\n                    label: 'Four',\n                });\n\n                expect(filteredCollection.length).toBe(4);\n                expect(filteredCollection.at(3).id).toBe(4);\n            });\n\n            it('remove', function() {\n                mainCollection.remove(mainCollection.get(1));\n                expect(filteredCollection.length).toBe(2);\n            });\n        });\n    });\n});\n"]}