{"version":3,"sources":["resourceListItemModelTests.es6.js"],"names":[],"mappings":"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","file":"resourceListItemModelTests.js","sourcesContent":["suite('rb/configForms/models/ResourceListItem', function() {\n    const TestListItem = RB.Config.ResourceListItem.extend({\n        syncAttrs: ['name', 'fileRegex'],\n        createResource: attrs => new RB.DefaultReviewer(attrs),\n    });\n    let resource;\n\n    beforeEach(function() {\n        resource = new RB.DefaultReviewer({\n            name: 'my-name',\n            fileRegex: '.*',\n        });\n    });\n\n    describe('Synchronizing attributes', function() {\n        it('On resource attribute change', function() {\n            const listItem = new TestListItem({\n                resource: resource,\n            });\n\n            resource.set('name', 'foo');\n\n            expect(listItem.get('name')).toBe('foo');\n        });\n\n        describe('On creation', function() {\n            it('With existing resource', function() {\n                const listItem = new TestListItem({\n                    resource: resource,\n                    name: 'dummy',\n                    fileRegex: '/foo/.*',\n                });\n\n                expect(listItem.get('name')).toBe('my-name');\n                expect(listItem.get('fileRegex')).toBe('.*');\n            });\n\n            it('With created resource', function() {\n                const listItem = new TestListItem({\n                    id: 123,\n                    name: 'new-name',\n                    fileRegex: '/foo/.*',\n                });\n\n                expect(listItem.get('name')).toBe('new-name');\n                expect(listItem.get('fileRegex')).toBe('/foo/.*');\n\n                resource = listItem.get('resource');\n                expect(resource.id).toBe(123);\n                expect(resource.get('name')).toBe('new-name');\n                expect(resource.get('fileRegex')).toBe('/foo/.*');\n            });\n        });\n    });\n\n    describe('Event mirroring', function() {\n        let listItem;\n\n        beforeEach(function() {\n            listItem = new TestListItem({\n                resource: resource,\n            });\n\n            spyOn(listItem, 'trigger');\n        });\n\n        it('destroy', function() {\n            resource.trigger('destroy');\n            expect(listItem.trigger).toHaveBeenCalledWith(\n                'destroy', listItem, undefined, {});\n        });\n\n        it('request', function() {\n            resource.trigger('request');\n            expect(listItem.trigger).toHaveBeenCalledWith('request');\n        });\n\n        it('sync', function() {\n            resource.trigger('sync');\n            expect(listItem.trigger).toHaveBeenCalledWith('sync');\n        });\n    });\n});\n"]}