{"version":3,"sources":["repositoryform.es6.js"],"names":[],"mappings":"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","file":"repositoryform.js","sourcesContent":["(function() {\n\n\nconst prevTypes = {};\nconst origRepoTypes = [];\nconst powerPackTemplate = dedent`\n    <h3>${gettext('Power Pack Required')}</h3>\n    <p>\n    ${gettext('<span class=\"power-pack-advert-hosting-type\"></span> support is available with <a href=\"https://www.reviewboard.org/powerpack/\">Power Pack</a>, an extension which also offers powerful reports, document review, and more.')}\n    </p>\n`;\nconst gerritPluginRequiredTemplate = dedent`\n    <h3>\n    ${gettext('Plugin Required')}\n    </h3>\n    <p>\n    ${interpolate(\n        gettext('The <code>gerrit-reviewboard</code> plugin is required for Gerrit integration. See the <a href=\"%s\" target=\"_blank\">instructions</a> for installing the plugin on your server.'),\n        [MANUAL_URL + 'admin/configuration/repositories/gerrit/'])}\n    </p>\n`;\n\n\nfunction updatePlanEl($row, $plan, serviceType, isFake) {\n    const planTypes = HOSTING_SERVICES[serviceType].plans;\n    const selectedPlan = $plan.val();\n\n    $plan.empty();\n\n    if (planTypes.length === 1 || isFake) {\n        $row.hide();\n    } else {\n        for (let i = 0; i < planTypes.length; i++) {\n            const planType = planTypes[i];\n            const opt = $('<option/>')\n                .val(planType.type)\n                .text(planType.label)\n                .appendTo($plan);\n\n            if (planType.type === selectedPlan) {\n                opt.prop('selected', true);\n            }\n        }\n\n        $row.show();\n    }\n\n    $plan.triggerHandler('change');\n}\n\n\nfunction updateHostingForm($hostingType, formPrefix, $plan, $forms) {\n    const formID = `#${formPrefix}-${$hostingType.val()}-${$plan.val() || 'default'}`;\n\n    $forms.hide();\n    $(formID).show();\n}\n\n\nfunction updateRepositoryType() {\n    const hostingType = $('#id_hosting_type').val();\n    const newRepoTypes = (hostingType === 'custom'\n                          ? []\n                          : HOSTING_SERVICES[hostingType].scmtools);\n    const $repoTypes = $('#id_tool');\n    const currentRepoType = $repoTypes.val();\n\n    $repoTypes.empty();\n\n    origRepoTypes.forEach(repoType => {\n        if (newRepoTypes.length === 0 ||\n            newRepoTypes.indexOf(repoType.text) !== -1 ||\n            newRepoTypes.indexOf(repoType.value) !== -1) {\n            $('<option/>')\n                .text(repoType.text)\n                .val(repoType.value)\n                .appendTo($repoTypes);\n\n            if (repoType.value === currentRepoType) {\n                $repoTypes.val(currentRepoType);\n            }\n        }\n    });\n\n    $repoTypes.triggerHandler('change');\n}\n\n\nfunction updateAccountList() {\n    const hostingType = $('#id_hosting_type').val();\n    const $hostingAccount = $('#id_hosting_account');\n    const $authForm = $('#hosting-auth-form-' + hostingType);\n    const hostingInfo = HOSTING_SERVICES[hostingType];\n    const accounts = hostingInfo.accounts;\n    const selectedAccount = parseInt($hostingAccount.val(), 10);\n    let foundSelected = false;\n\n    /* Rebuild the list of accounts. */\n    $hostingAccount.find('option[value!=\"\"]').remove();\n\n    if (hostingInfo.needs_two_factor_auth_code ||\n        $authForm.find('.errorlist').length > 0) {\n        /*\n         * The first one will be selected automatically, which\n         * we want. Don't select any below.\n         */\n        foundSelected = true;\n    }\n\n    accounts.forEach(account => {\n        let text = account.username;\n\n        if (account.hosting_url) {\n            text += ` (${account.hosting_url})`;\n        }\n\n        const $opt = $('<option/>')\n            .val(account.pk)\n            .text(text)\n            .data('account', account)\n            .appendTo($hostingAccount);\n\n        if (account.pk === selectedAccount || !foundSelected) {\n            $opt.prop('selected', true);\n            foundSelected = true;\n            $hostingAccount.triggerHandler('change');\n        }\n    });\n}\n\n\n$(document).ready(function() {\n    const $hostingType = $('#id_hosting_type');\n    const $hostingAuthForms = $('.hosting-auth-form');\n    const $hostingRepoForms = $('.hosting-repo-form');\n    const $hostingAccount = $('#id_hosting_account');\n    const $hostingAccountRow = $('#row-hosting_account');\n    const $hostingAccountRelink = $('<p/>')\n        .text(gettext('The authentication requirements for this account have changed. You will need to re-authenticate.'))\n        .addClass('errornote')\n        .hide()\n        .appendTo($hostingAccountRow);\n    const $scmtoolAuthForms = $('.scmtool-auth-form');\n    const $scmtoolRepoForms = $('.scmtool-repo-form');\n    const $associateSshKeyFieldset =\n        $('#row-associate_ssh_key').parents('fieldset');\n    const $associateSshKey = $('#id_associate_ssh_key');\n    const associateSshKeyDisabled = $associateSshKey.prop('disabled');\n    const $bugTrackerUseHosting = $('#id_bug_tracker_use_hosting');\n    const $bugTrackerUseHostingRow = $('#row-bug_tracker_use_hosting');\n    const $bugTrackerType = $('#id_bug_tracker_type');\n    const $bugTrackerHostingURLRow = $('#row-bug_tracker_hosting_url');\n    const $bugTrackerTypeRow = $('#row-bug_tracker_type');\n    const $bugTrackerPlan = $('#id_bug_tracker_plan');\n    const $bugTrackerPlanRow = $('#row-bug_tracker_plan');\n    const $bugTrackerURLRow = $('#row-bug_tracker');\n    const $bugTrackerUsernameRow =\n        $('#row-bug_tracker_hosting_account_username');\n    const $repoPlanRow = $('#row-repository_plan');\n    const $repoPlan = $('#id_repository_plan');\n    const $publicAccess = $('#id_public');\n    const $tool = $('#id_tool');\n    const $toolRow = $('#row-tool');\n    const $showSshKey = $('#show-ssh-key-link');\n    const $publicKeyPopup = $('#ssh-public-key-popup');\n    const $bugTrackerForms = $('.bug-tracker-form');\n    const $submitButtons = $('input[type=\"submit\"]');\n    const $editHostingCredentials = $('#repo-edit-hosting-credentials');\n    const $editHostingCredentialsLabel =\n        $('#repo-edit-hosting-credentials-label');\n    const $forceAuth = $('#id_force_authorize');\n    const $hostingPowerPackAdvert = $('<div class=\"powerpack-advert\" />')\n        .html(powerPackTemplate)\n        .hide()\n        .appendTo($hostingType.closest('fieldset'));\n    const $toolPowerPackAdvert = $('<div class=\"powerpack-advert\" />')\n        .html(powerPackTemplate)\n        .hide()\n        .appendTo($tool.closest('fieldset'));\n    const $gerritPluginInfo = $('<div class=\"gerrit-plugin-advert\" />')\n        .html(gerritPluginRequiredTemplate)\n        .hide()\n        .appendTo($('#row-hosting_type'));\n\n    prevTypes.bug_tracker_type = 'none';\n    prevTypes.hosting_type = 'custom';\n    prevTypes.tool = 'none';\n\n    $tool.find('option').each((i, el) => {\n        const $repoType = $(el);\n\n        origRepoTypes.push({\n            value: $repoType.val(),\n            text: $repoType.text(),\n        });\n    });\n\n    $bugTrackerUseHosting\n        .change(function() {\n            if (this.checked) {\n                $bugTrackerTypeRow.hide();\n                $bugTrackerPlanRow.hide();\n                $bugTrackerUsernameRow.hide();\n                $bugTrackerURLRow.hide();\n                $bugTrackerForms.hide();\n            } else {\n                $bugTrackerTypeRow.show();\n                $bugTrackerType.triggerHandler('change');\n            }\n        })\n        .triggerHandler('change');\n\n    $repoPlan.change(() => updateHostingForm($hostingType, 'repo-form-hosting',\n                                             $repoPlan, $hostingRepoForms));\n\n    $bugTrackerPlan.change(() => {\n        const plan = $bugTrackerPlan.val() || 'default';\n        const bugTrackerType = $bugTrackerType.val();\n        const planInfo = HOSTING_SERVICES[bugTrackerType].planInfo[plan];\n\n        updateHostingForm($bugTrackerType, 'bug-tracker-form-hosting',\n                          $bugTrackerPlan, $bugTrackerForms);\n\n        $bugTrackerUsernameRow.setVisible(\n            planInfo.bug_tracker_requires_username);\n    });\n\n    $hostingType\n        .change(() => {\n            const hostingType = $hostingType.val();\n            const isCustom = (hostingType === 'custom');\n            const isFake = (!isCustom &&\n                            HOSTING_SERVICES[hostingType].fake === true);\n\n            updateRepositoryType();\n\n            $gerritPluginInfo.toggle(hostingType === 'gerrit');\n\n            if (isCustom) {\n                $repoPlanRow.hide();\n            } else {\n                $scmtoolAuthForms.hide();\n                $scmtoolRepoForms.hide();\n\n                updatePlanEl($repoPlanRow, $repoPlan, hostingType, isFake);\n            }\n\n            $repoPlan.triggerHandler('change');\n\n            if (isCustom ||\n                isFake ||\n                !HOSTING_SERVICES[hostingType].supports_bug_trackers) {\n                $bugTrackerUseHostingRow.hide();\n                $bugTrackerUseHosting\n                    .prop({\n                        disabled: true,\n                        checked: false,\n                    })\n                    .triggerHandler('change');\n            } else {\n                $bugTrackerUseHosting.prop('disabled', false);\n                $bugTrackerUseHostingRow.show();\n            }\n\n            if (isCustom ||\n                !HOSTING_SERVICES[hostingType].supports_ssh_key_association) {\n                $associateSshKeyFieldset.hide();\n                $associateSshKey.prop({\n                    disabled: true,\n                    checked: false,\n                });\n            } else {\n                /*\n                 * Always use the original state of the checkbox (i.e. the\n                 * state on page load)\n                 */\n                $associateSshKey.prop('disabled', associateSshKeyDisabled);\n                $associateSshKeyFieldset.show();\n            }\n\n            if (isFake) {\n                $hostingPowerPackAdvert\n                    .find('.power-pack-advert-hosting-type')\n                    .text($hostingType.find(':selected').text());\n            }\n\n            $hostingAccountRow.setVisible(!isFake);\n            $toolRow.setVisible(!isFake);\n\n            $hostingPowerPackAdvert.setVisible(isFake);\n            $submitButtons.prop('disabled', isFake);\n\n            if (!isCustom) {\n                updateAccountList();\n            }\n        })\n        .triggerHandler('change');\n\n    $([$hostingType[0], $hostingAccount[0]])\n        .change(() => {\n            $hostingAuthForms.hide();\n            $hostingAccountRelink.hide();\n            $editHostingCredentials\n                .hide()\n                .val(gettext('Edit credentials'));\n            $forceAuth.val('false');\n\n            const hostingType = $hostingType.val();\n\n            if (hostingType === 'custom') {\n                $hostingAccountRow.hide();\n            } else {\n                const hostingInfo = HOSTING_SERVICES[hostingType];\n\n                if (hostingInfo.fake !== true) {\n                    $hostingAccountRow.show();\n\n                    const $authForm = $('#hosting-auth-form-' + hostingType);\n\n                    /*\n                     * Hide any fields required for 2FA unless explicitly\n                     * needed.\n                     */\n                    $authForm.find('[data-required-for-2fa]').closest('.form-row')\n                        .setVisible(hostingInfo.needs_two_factor_auth_code);\n\n                    if ($hostingAccount.val() === '') {\n                        /* Present fields for linking a new account. */\n                        $authForm.show();\n                    } else if (hostingInfo.needs_two_factor_auth_code) {\n                        /*\n                         * The user needs to enter a 2FA code. We need to\n                         * show the auth form, and ensure we will be forcing\n                         * authentication.\n                         */\n                        $forceAuth.val('true');\n                        $authForm.show();\n                    } else {\n                        /* An existing linked account has been selected. */\n                        const selectedIndex = $hostingAccount[0].selectedIndex;\n                        const $selectedOption =\n                            $($hostingAccount[0].options[selectedIndex]);\n                        const account = $selectedOption.data('account');\n\n                        if (account.is_authorized &&\n                            $authForm.find('.errorlist').length === 0) {\n                            $editHostingCredentials.show();\n                        } else {\n                            $authForm.show();\n                            $hostingAccountRelink.show();\n                        }\n                    }\n                }\n            }\n        })\n        .triggerHandler('change');\n\n    $tool\n        .change(() => {\n            if ($hostingType.val() === 'custom') {\n                const scmtoolID = $tool.val();\n                const $authForm = $('#auth-form-scm-' + scmtoolID);\n                const $repoForm = $('#repo-form-scm-' + scmtoolID);\n\n                const toolInfo = TOOLS_INFO[scmtoolID];\n                const isFake = (toolInfo.fake === true);\n\n                if (isFake) {\n                    $toolPowerPackAdvert\n                        .find('.power-pack-advert-hosting-type')\n                        .text(toolInfo.name);\n                }\n\n                $scmtoolAuthForms.hide();\n                $scmtoolRepoForms.hide();\n\n                $authForm.setVisible(!isFake);\n                $repoForm.setVisible(!isFake);\n                $toolPowerPackAdvert.setVisible(isFake);\n                $submitButtons.prop('disabled', isFake);\n            }\n        })\n        .triggerHandler('change');\n\n    $bugTrackerType\n        .change(() => {\n            $bugTrackerForms.hide();\n\n            const bugTrackerType = $bugTrackerType.val();\n\n            if (bugTrackerType === 'custom' || bugTrackerType === 'none') {\n                $bugTrackerHostingURLRow.hide();\n                $bugTrackerPlanRow.hide();\n                $bugTrackerUsernameRow.hide();\n            }\n\n            if (bugTrackerType === 'custom') {\n                $bugTrackerURLRow.show();\n            } else if (bugTrackerType === 'none') {\n                $bugTrackerURLRow.hide();\n            } else {\n                $bugTrackerURLRow.hide();\n                updatePlanEl($bugTrackerPlanRow, $bugTrackerPlan,\n                             bugTrackerType, false);\n\n                $bugTrackerHostingURLRow.setVisible(\n                    HOSTING_SERVICES[bugTrackerType].self_hosted);\n            }\n        })\n        .triggerHandler('change');\n\n    $publicAccess\n        .change(function() {\n            var visible = !this.checked;\n            $('#row-users').setVisible(visible);\n            $('#row-review_groups').setVisible(visible);\n        })\n        .triggerHandler('change');\n\n    $showSshKey.on('click', () => {\n        if ($publicKeyPopup.is(':visible')) {\n            $showSshKey.text(gettext('Show your SSH public key'));\n            $publicKeyPopup.hide();\n        } else {\n            $showSshKey.text(gettext('Hide your SSH public key'));\n            $publicKeyPopup.show();\n        }\n\n        return false;\n    });\n\n    $editHostingCredentials.click(() => {\n        let $authForm = $('#hosting-auth-form-' + $hostingType.val());\n\n        if ($forceAuth.val() === 'true') {\n            $editHostingCredentialsLabel.text(gettext('Edit credentials'));\n            $authForm.hide();\n            $forceAuth.val('false');\n        } else {\n            $editHostingCredentialsLabel.text(\n                gettext('Cancel editing credentials'));\n            $authForm = $('#hosting-auth-form-' + $hostingType.val()).show();\n            $authForm.show();\n            $forceAuth.val('true');\n        }\n\n        return false;\n    });\n});\n\n\n})();\n"]}