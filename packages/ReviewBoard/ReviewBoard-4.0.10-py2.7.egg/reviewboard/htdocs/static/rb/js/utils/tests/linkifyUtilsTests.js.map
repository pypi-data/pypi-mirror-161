{"version":3,"sources":["linkifyUtilsTests.es6.js"],"names":[],"mappings":"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","file":"linkifyUtilsTests.js","sourcesContent":["suite('rb/utils/linkifyUtils', function() {\n    var bugTrackerURL = 'http://issues/?id=--bug_id--';\n\n    describe('linkifyChildren', function() {\n        it('URLs', function() {\n            var $el = $('<p><span>http://example.com</span></p>');\n\n            RB.LinkifyUtils.linkifyChildren($el[0]);\n\n            const $span = $el.children('span');\n            expect($span.length).toBe(1);\n\n            const $a = $span.children('a');\n            expect($a.length).toBe(1);\n            expect($a.attr('target')).toBe('_blank');\n            expect($a.attr('href')).toBe('http://example.com');\n            expect($a.text()).toBe('http://example.com');\n        });\n\n        it('Bugs', function() {\n            var $el = $('<p><span>Bug #123</span></p>');\n\n            RB.LinkifyUtils.linkifyChildren($el[0], bugTrackerURL);\n\n            const $span = $el.children('span');\n            expect($span.length).toBe(1);\n\n            const $a = $span.children('a');\n            expect($a.length).toBe(1);\n            expect($a.attr('target')).toBe('_blank');\n            expect($a.attr('href')).toBe('http://issues/?id=123');\n            expect($a.text()).toBe('Bug #123');\n        });\n\n        it('/r/ paths', function() {\n            var $el = $('<p><span>/r/123/</span></p>');\n\n            RB.LinkifyUtils.linkifyChildren($el[0]);\n\n            const $span = $el.children('span');\n            expect($span.length).toBe(1);\n\n            const $a = $span.children('a');\n            expect($a.length).toBe(1);\n            expect($a.attr('target')).toBe('_blank');\n            expect($a.attr('href')).toBe('/r/123/');\n            expect($a.attr('class')).toBe('review-request-link');\n            expect($a.text()).toBe('/r/123/');\n        });\n\n        it('Skips <a> elements', function() {\n            var $el = $('<p><span><a href=\"http://example.com\">/r/123</a>' +\n                        '</span></p>');\n\n            RB.LinkifyUtils.linkifyChildren($el[0]);\n\n            const $span = $el.children('span');\n            expect($span.length).toBe(1);\n\n            const $a = $span.children('a');\n            expect($a.length).toBe(1);\n            expect($a.attr('target')).toBe(undefined);\n            expect($a.attr('href')).toBe('http://example.com');\n            expect($a.text()).toBe('/r/123');\n        });\n\n        it('Skips <pre> elements', function() {\n            var $el = $('<div><pre>/r/123</pre></div>');\n\n            RB.LinkifyUtils.linkifyChildren($el[0]);\n\n            expect($el.html()).toBe('<pre>/r/123</pre>');\n        });\n    });\n\n    describe('linkifyText', function() {\n        describe('URLs', function() {\n            const linkifyText = RB.LinkifyUtils.linkifyText;\n\n            it('http://', function() {\n                expect(linkifyText('http://example.com')).toBe(\n                       '<a target=\"_blank\" href=\"http://example.com\">' +\n                       'http://example.com</a>');\n            });\n\n            it('https://', function() {\n                expect(linkifyText('https://example.com')).toBe(\n                       '<a target=\"_blank\" href=\"https://example.com\">' +\n                       'https://example.com</a>');\n            });\n\n            it('ftp://', function() {\n                expect(linkifyText('ftp://example.com')).toBe(\n                       '<a target=\"_blank\" href=\"ftp://example.com\">' +\n                       'ftp://example.com</a>');\n            });\n\n            it('ftps://', function() {\n                expect(linkifyText('ftps://example.com')).toBe(\n                       '<a target=\"_blank\" href=\"ftps://example.com\">' +\n                       'ftps://example.com</a>');\n            });\n\n            it('gopher://', function() {\n                expect(linkifyText('gopher://example.com')).toBe(\n                       '<a target=\"_blank\" href=\"gopher://example.com\">' +\n                       'gopher://example.com</a>');\n            });\n\n            it('mailto:', function() {\n                expect(linkifyText('mailto:user@example.com')).toBe(\n                       '<a target=\"_blank\" href=\"mailto:user@example.com\">' +\n                       'mailto:user@example.com</a>');\n            });\n\n            it('news:', function() {\n                expect(linkifyText('news:example.com'))\n                    .toBe('<a target=\"_blank\" href=\"news:example.com\">' +\n                          'news:example.com</a>');\n            });\n\n            it('sms:', function() {\n                expect(linkifyText('sms:example.com'))\n                    .toBe('<a target=\"_blank\" href=\"sms:example.com\">' +\n                          'sms:example.com</a>');\n            });\n\n            it('javascript: (unlinked)', function() {\n                expect(linkifyText('javascript:test'))\n                    .toBe('javascript:test');\n            });\n\n            it('javascript:// (unlinked)', function() {\n                expect(linkifyText('javascript://test'))\n                    .toBe('javascript://test');\n            });\n\n            it('Trailing slashes', function() {\n                expect(linkifyText('http://example.com/foo/')).toBe(\n                       '<a target=\"_blank\" href=\"http://example.com/foo/\">' +\n                       'http://example.com/foo/</a>');\n            });\n\n            it('Anchors', function() {\n                expect(linkifyText('http://example.com/#my-anchor')).toBe(\n                       '<a target=\"_blank\" href=\"' +\n                       'http://example.com/#my-anchor\">' +\n                       'http://example.com/#my-anchor</a>');\n            });\n\n            it('Query strings', function() {\n                expect(linkifyText('http://example.com/?a=b&c=d')).toBe(\n                       '<a target=\"_blank\" href=\"' +\n                       'http://example.com/?a=b&amp;c=d\">' +\n                       'http://example.com/?a=b&amp;c=d</a>');\n            });\n\n            describe('Surrounded by', function() {\n                it('(...)', function() {\n                    expect(linkifyText('(http://example.com/)')).toBe(\n                           '(<a target=\"_blank\" href=\"http://example.com/\">' +\n                           'http://example.com/</a>)');\n                });\n\n                it('[...]', function() {\n                    expect(linkifyText('[http://example.com/]')).toBe(\n                           '[<a target=\"_blank\" href=\"http://example.com/\">' +\n                           'http://example.com/</a>]');\n                });\n\n                it('{...}', function() {\n                    expect(linkifyText('{http://example.com/}')).toBe(\n                           '{<a target=\"_blank\" href=\"http://example.com/\">' +\n                           'http://example.com/</a>}');\n                });\n\n                it('<...>', function() {\n                    expect(linkifyText('<http://example.com/>')).toBe(\n                           '&lt;<a target=\"_blank\" href=\"' +\n                           'http://example.com/\">http://example.com/</a>&gt;');\n                });\n            });\n        });\n\n        describe('/r/ paths', function() {\n            describe('Review requests', function() {\n                it('/r/123', function() {\n                    expect(RB.LinkifyUtils.linkifyText('/r/123')).toBe(\n                        '<a target=\"_blank\" href=\"/r/123/\" ' +\n                        'class=\"review-request-link\">/r/123</a>');\n                });\n\n                it('/r/123/', function() {\n                    expect(RB.LinkifyUtils.linkifyText('/r/123/')).toBe(\n                        '<a target=\"_blank\" href=\"/r/123/\" ' +\n                        'class=\"review-request-link\">/r/123/</a>');\n                });\n            });\n\n            describe('Diffs', function() {\n                it('/r/123/diff', function() {\n                    expect(RB.LinkifyUtils.linkifyText('/r/123/diff')).toBe(\n                        '<a target=\"_blank\" href=\"/r/123/diff/\" ' +\n                        'class=\"review-request-link\">/r/123/diff</a>');\n                });\n\n                it('/r/123/diff/', function() {\n                    expect(RB.LinkifyUtils.linkifyText('/r/123/diff/')).toBe(\n                        '<a target=\"_blank\" href=\"/r/123/diff/\" ' +\n                        'class=\"review-request-link\">/r/123/diff/</a>');\n                });\n            });\n        });\n\n        describe('Surrounded by', function() {\n            it('(...)', function() {\n                expect(RB.LinkifyUtils.linkifyText('(/r/123/)')).toBe(\n                       '(<a target=\"_blank\" href=\"/r/123/\" ' +\n                       'class=\"review-request-link\">/r/123/</a>)');\n            });\n\n            it('[...]', function() {\n                expect(RB.LinkifyUtils.linkifyText('[/r/123/]')).toBe(\n                       '[<a target=\"_blank\" href=\"/r/123/\" ' +\n                       'class=\"review-request-link\">/r/123/</a>]');\n            });\n\n            it('{...}', function() {\n                expect(RB.LinkifyUtils.linkifyText('{/r/123/}')).toBe(\n                       '{<a target=\"_blank\" href=\"/r/123/\" ' +\n                       'class=\"review-request-link\">/r/123/</a>}');\n            });\n\n            it('<...>', function() {\n                expect(RB.LinkifyUtils.linkifyText('</r/123/>')).toBe(\n                       '&lt;<a target=\"_blank\" href=\"/r/123/\" ' +\n                       'class=\"review-request-link\">/r/123/</a>&gt;');\n            });\n\n            it('text', function() {\n                expect(RB.LinkifyUtils.linkifyText('foo/r/123/bar')).toBe(\n                       'foo/r/123/bar');\n            });\n        });\n    });\n\n    describe('Bug References', function() {\n        describe('With bugTrackerURL', function() {\n            function linkifyText(text) {\n                return RB.LinkifyUtils.linkifyText(text, bugTrackerURL);\n            }\n\n            it('bug 123', function() {\n                expect(linkifyText('bug 123')).toBe(\n                    '<a target=\"_blank\" href=\"http://issues/?id=123\">' +\n                    'bug 123</a>');\n            });\n\n            it('bug #123', function() {\n                expect(linkifyText('bug #123')).toBe(\n                    '<a target=\"_blank\" href=\"http://issues/?id=123\">' +\n                    'bug #123</a>');\n            });\n\n            it('issue 123', function() {\n                expect(linkifyText('issue 123')).toBe(\n                    '<a target=\"_blank\" href=\"http://issues/?id=123\">' +\n                    'issue 123</a>');\n            });\n\n            it('issue #123', function() {\n                expect(linkifyText('issue #123')).toBe(\n                    '<a target=\"_blank\" href=\"http://issues/?id=123\">' +\n                    'issue #123</a>');\n            });\n\n            it('bug #abc', function() {\n                expect(linkifyText('bug #abc')).toBe(\n                    '<a target=\"_blank\" href=\"http://issues/?id=abc\">' +\n                    'bug #abc</a>');\n            });\n\n            it('issue #abc', function() {\n                expect(linkifyText('issue #abc')).toBe(\n                    '<a target=\"_blank\" href=\"http://issues/?id=abc\">' +\n                    'issue #abc</a>');\n            });\n\n            it('issue #abc, issue 2', function() {\n                expect(linkifyText('issue #abc, issue 2')).toBe(\n                    '<a target=\"_blank\" href=\"http://issues/?id=abc\">' +\n                    'issue #abc</a>, <a target=\"_blank\" ' +\n                    'href=\"http://issues/?id=2\">issue 2</a>');\n            });\n\n            it('(issue #abc-123) [bug #cba-321]', function() {\n                expect(linkifyText('(issue #abc-123) [bug #cba-321]')).toBe(\n                    '(<a target=\"_blank\" href=\"http://issues/?id=abc-123\">' +\n                    'issue #abc-123</a>) [<a target=\"_blank\" ' +\n                    'href=\"http://issues/?id=cba-321\">bug #cba-321</a>]');\n            });\n        });\n\n        describe('Without bugTrackerURL', function() {\n            const linkifyText = RB.LinkifyUtils.linkifyText;\n\n            it('bug 123', function() {\n                expect(linkifyText('bug 123')).toBe('bug 123');\n            });\n\n            it('issue 123', function() {\n                expect(linkifyText('issue 123')).toBe('issue 123');\n            });\n        });\n    });\n});\n"]}