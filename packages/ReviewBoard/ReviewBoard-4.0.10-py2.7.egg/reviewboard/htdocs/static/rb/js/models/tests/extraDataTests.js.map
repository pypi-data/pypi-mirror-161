{"version":3,"sources":["extraDataTests.es6.js"],"names":[],"mappings":";;AAAA,KAAK,CAAC,qBAAD,EAAwB,YAAW;EACpC,IAAI,KAAJ;EAEA,UAAU,CAAC,YAAW;IAClB,MAAM,QAAQ,GAAG,QAAQ,CAAC,KAAT,CAAe,MAAf,CAAsB,CAAC,CAAC,QAAF,CAAW;MAC9C,QAAQ,GAAG;QACP,OAAO;UACH,SAAS,EAAE;QADR,CAAP;MAGH,CAL6C;;MAO9C,UAAU,GAAG;QACT,KAAK,eAAL;MACH;;IAT6C,CAAX,EAUpC,EAAE,CAAC,cAViC,CAAtB,CAAjB;IAYA,KAAK,GAAG,IAAI,QAAJ,EAAR;EACH,CAdS,CAAV;EAgBA,EAAE,CAAC,qBAAD,EAAwB,YAAW;IACjC,MAAM,SAAS,GAAG;MACd,UAAU,YAAW,CAAE,CADT;MAEd,oBAAoB,YAAW,CAAE;IAFnB,CAAlB;IAKA,KAAK,CAAC,SAAD,EAAY,QAAZ,CAAL;IACA,KAAK,CAAC,SAAD,EAAY,kBAAZ,CAAL;IAEA,KAAK,CAAC,EAAN,CAAS,QAAT,EAAmB,SAAS,CAAC,MAA7B;IACA,KAAK,CAAC,EAAN,CAAS,kBAAT,EAA6B,SAAS,CAAC,kBAAD,CAAtC;IAEA,KAAK,CAAC,YAAN,CAAmB,KAAnB,EAA0B,CAA1B;IAEA,MAAM,CAAC,SAAS,CAAC,MAAX,CAAN,CAAyB,gBAAzB;IACA,MAAM,CAAC,SAAS,CAAC,kBAAD,CAAV,CAAN,CAAsC,gBAAtC;EACH,CAhBC,CAAF;EAkBA,EAAE,CAAC,oBAAD,EAAuB,YAAW;IAChC,MAAM,YAAY,GAAG,KAAK,CAAC,UAAN,CAAiB,SAAtC;IAEA,MAAM,CAAC,KAAK,CAAC,SAAN,CAAgB,UAAjB,CAAN,CAAmC,IAAnC,CAAwC,YAAxC;IAEA,KAAK,CAAC,GAAN,CAAU;MACN,SAAS,EAAE;QACP,GAAG,EAAE;MADE;IADL,CAAV;IAMA,MAAM,CAAC,KAAK,CAAC,UAAN,CAAiB,SAAlB,CAAN,CAAmC,OAAnC,CAA2C;MAAC,GAAG,EAAE;IAAN,CAA3C;IACA,MAAM,CAAC,KAAK,CAAC,SAAN,CAAgB,UAAjB,CAAN,CAAmC,OAAnC,CAA2C;MAAC,GAAG,EAAE;IAAN,CAA3C;IAEA,MAAM,CAAC,KAAK,CAAC,SAAN,CAAgB,UAAjB,CAAN,CAAmC,GAAnC,CAAuC,IAAvC,CAA4C,YAA5C;IACA,MAAM,CAAC,KAAK,CAAC,UAAN,CAAiB,SAAlB,CAAN,CAAmC,GAAnC,CAAuC,IAAvC,CAA4C,YAA5C;IAEA,MAAM,CAAC,KAAK,CAAC,SAAN,CAAgB,UAAjB,CAAN,CAAmC,IAAnC,CAAwC,KAAK,CAAC,UAAN,CAAiB,SAAzD;EACH,CAlBC,CAAF;AAmBH,CAxDI,CAAL","file":"extraDataTests.js","sourcesContent":["suite('rb/models/ExtraData', function() {\n    let model;\n\n    beforeEach(function() {\n        const Resource = Backbone.Model.extend(_.defaults({\n            defaults() {\n                return {\n                    extraData: {},\n                };\n            },\n\n            initialize() {\n                this._setupExtraData();\n            },\n        }, RB.ExtraDataMixin));\n\n        model = new Resource();\n    });\n\n    it('change events fired', function() {\n        const callbacks = {\n            'change': function() {},\n            'change:extraData': function() {},\n        };\n\n        spyOn(callbacks, 'change');\n        spyOn(callbacks, 'change:extraData');\n\n        model.on('change', callbacks.change);\n        model.on('change:extraData', callbacks['change:extraData']);\n\n        model.setExtraData('foo', 1);\n\n        expect(callbacks.change).toHaveBeenCalled();\n        expect(callbacks['change:extraData']).toHaveBeenCalled();\n    });\n\n    it('attributes updated', function() {\n        const oldExtraData = model.attributes.extraData;\n\n        expect(model.extraData.attributes).toBe(oldExtraData);\n\n        model.set({\n            extraData: {\n                foo: 1,\n            },\n        });\n\n        expect(model.attributes.extraData).toEqual({foo: 1});\n        expect(model.extraData.attributes).toEqual({foo: 1});\n\n        expect(model.extraData.attributes).not.toBe(oldExtraData);\n        expect(model.attributes.extraData).not.toBe(oldExtraData);\n\n        expect(model.extraData.attributes).toBe(model.attributes.extraData);\n    });\n});\n"]}