{"version":3,"sources":["urlUtilsTests.es6.js"],"names":[],"mappings":";;AAAA,KAAK,CAAC,mBAAD,EAAsB,YAAW;EAClC,QAAQ,CAAC,iBAAD,EAAoB,YAAW;IACnC,UAAU,CAAC,YAAW;MAClB,MAAM,CAAC,GAAP,GAAa,YAAW,CAAE,CAA1B;IACH,CAFS,CAAV;IAIA,SAAS,CAAC,YAAW;MACjB,IAAI,MAAM,CAAC,cAAP,CAAsB,KAAtB,CAAJ,EAAkC;QAC9B,OAAO,MAAM,CAAC,GAAd;MACH;IACJ,CAJQ,CAAT;IAMA,EAAE,CAAC,wBAAD,EAA2B,UAAS,IAAT,EAAe;MACxC,KAAK,CAAC,MAAD,EAAS,KAAT,CAAL;MAEA,MAAM,GAAG,GAAG,wDAAZ;MACA,MAAM,IAAI,GAAG,EAAE,CAAC,eAAH,CAAmB,GAAnB,CAAb;MAEA,CAAC,oBAAY,IAAZ,SAAD;;MAEA,CAAC,CAAC,KAAF,CAAQ,YAAW;QACf,MAAM,CAAC,MAAM,CAAC,GAAR,CAAN,CAAmB,GAAnB,CAAuB,gBAAvB;QACA,IAAI;MACP,CAHD;IAIH,CAZC,CAAF;EAaH,CAxBO,CAAR;AAyBH,CA1BI,CAAL","file":"urlUtilsTests.js","sourcesContent":["suite('rb/utils/urlUtils', function() {\n    describe('getLocationHash', function() {\n        beforeEach(function() {\n            window.xss = function() {};\n        });\n\n        afterEach(function() {\n            if (window.hasOwnProperty('xss')) {\n                delete window.xss;\n            }\n        });\n\n        it('Prevents XSS injection', function(done) {\n            spyOn(window, 'xss');\n\n            const url = 'http://www.example.com/#<img/src/onerror=window.xss()>';\n            const hash = RB.getLocationHash(url);\n\n            $(`a[name=\"${hash}\"]`);\n\n            _.delay(function() {\n                expect(window.xss).not.toHaveBeenCalled();\n                done();\n            });\n        });\n    });\n});\n"]}