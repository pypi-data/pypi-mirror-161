{"version":3,"sources":["reviewReplyEditorModelTests.es6.js"],"names":[],"mappings":"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","file":"reviewReplyEditorModelTests.js","sourcesContent":["suite('rb/reviewRequestPage/models/ReviewReplyEditor', function() {\n    let reviewReply;\n    let review;\n    let editor;\n\n    beforeEach(function() {\n        review = new RB.Review({\n            loaded: true,\n            links: {\n                replies: {\n                    href: '/api/review/123/replies/',\n                },\n            },\n        });\n\n        reviewReply = review.createReply();\n\n        spyOn(review, 'ready').and.callFake(\n            (options, context) => options.ready.call(context));\n\n        spyOn(reviewReply, 'ensureCreated').and.callFake(\n            (options, context) => options.success.call(context));\n\n        spyOn(reviewReply, 'ready').and.callFake(\n            (options, context) => options.ready.call(context));\n    });\n\n    describe('Event handling', function() {\n        describe('reviewReply changes', function() {\n            beforeEach(function() {\n                editor = new RB.ReviewRequestPage.ReviewReplyEditor({\n                    contextType: 'body_top',\n                    review: review,\n                    reviewReply: reviewReply,\n                    text: 'My Text',\n                });\n            });\n\n            it('Sets up events on new reviewReply', function() {\n                spyOn(editor, 'listenTo').and.callThrough();\n\n                const reviewReply = new RB.ReviewReply();\n                editor.set('reviewReply', reviewReply);\n\n                expect(editor.listenTo.calls.count()).toEqual(2);\n                expect(editor.listenTo.calls.argsFor(0)[1]).toEqual('destroyed');\n                expect(editor.listenTo.calls.argsFor(1)[1]).toEqual('published');\n            });\n\n            it('Removes events from old reviewReply', function() {\n                editor.set('reviewReply', new RB.ReviewReply());\n\n                expect(editor._listeningTo.hasOwnProperty(reviewReply._listenId))\n                    .toBe(false);\n            });\n        });\n    });\n\n    describe('Methods', function() {\n        describe('save', function() {\n            function testBodySave(options) {\n                editor = new RB.ReviewRequestPage.ReviewReplyEditor({\n                    contextType: options.contextType,\n                    review: review,\n                    reviewReply: reviewReply,\n                    richText: options.richText,\n                    text: 'My Text',\n                });\n\n                spyOn(editor, 'trigger');\n                spyOn(reviewReply, 'save').and.callFake(\n                    (options, context) => options.success.call(context));\n\n                editor.save();\n\n                expect(editor.get('replyObject')).toBe(reviewReply);\n                expect(editor.get('hasDraft')).toBe(true);\n                expect(editor.get('text')).toBe('My Text');\n                expect(editor.get('richText')).toBe(true);\n                expect(reviewReply.get(options.textAttr)).toBe('My Text');\n                expect(reviewReply.get(options.richTextAttr)).toBe(\n                    options.richText);\n                expect(reviewReply.ready).toHaveBeenCalled();\n                expect(reviewReply.save).toHaveBeenCalled();\n                expect(editor.trigger).toHaveBeenCalledWith('saving');\n                expect(editor.trigger).toHaveBeenCalledWith('saved');\n            }\n\n            function testCommentSave(options) {\n                editor = new RB.ReviewRequestPage.ReviewReplyEditor({\n                    contextType: options.contextType,\n                    hasDraft: false,\n                    review: review,\n                    reviewReply: reviewReply,\n                    richText: options.richText,\n                    text: 'My Text',\n                });\n\n                spyOn(editor, 'trigger');\n                spyOn(options.model.prototype, 'ready').and.callFake(\n                    (options, context) => options.ready.call(context));\n                spyOn(options.model.prototype, 'save').and.callFake(\n                    (options, context) => options.success.call(context));\n\n                editor.save();\n\n                const replyObject = editor.get('replyObject');\n\n                expect(editor.get('hasDraft')).toBe(true);\n                expect(editor.get('text')).toBe('My Text');\n                expect(editor.get('richText')).toBe(true);\n                expect(replyObject instanceof options.model).toBe(true);\n                expect(replyObject.get('text')).toBe('My Text');\n                expect(replyObject.get('richText')).toBe(options.richText);\n                expect(options.model.prototype.ready).toHaveBeenCalled();\n                expect(options.model.prototype.save).toHaveBeenCalled();\n                expect(editor.trigger).toHaveBeenCalledWith('saving');\n                expect(editor.trigger).toHaveBeenCalledWith('saved');\n            }\n\n            it('With existing reply object', function() {\n                const replyObject = new RB.DiffCommentReply();\n\n                editor = new RB.ReviewRequestPage.ReviewReplyEditor({\n                    contextType: 'diff_comments',\n                    hasDraft: false,\n                    replyObject: replyObject,\n                    review: review,\n                    reviewReply: reviewReply,\n                    text: 'My Text',\n                });\n\n                spyOn(editor, 'trigger');\n                spyOn(replyObject, 'ready').and.callFake(\n                    (options, context) => options.ready.call(context));\n                spyOn(replyObject, 'save').and.callFake(\n                    (options, context) => options.success.call(context));\n\n                editor.save();\n\n                expect(editor.get('hasDraft')).toBe(true);\n                expect(editor.get('replyObject')).toBe(replyObject);\n                expect(replyObject.get('text')).toBe('My Text');\n                expect(replyObject.ready).toHaveBeenCalled();\n                expect(replyObject.save).toHaveBeenCalled();\n                expect(editor.trigger).toHaveBeenCalledWith('saving');\n                expect(editor.trigger).toHaveBeenCalledWith('saved');\n            });\n\n            it('With empty text', function() {\n                const replyObject = new RB.DiffCommentReply({\n                    text: 'Orig Text',\n                });\n\n                editor = new RB.ReviewRequestPage.ReviewReplyEditor({\n                    contextType: 'diff_comments',\n                    review: review,\n                    reviewReply: reviewReply,\n                });\n\n                spyOn(editor, 'trigger');\n                spyOn(editor, 'resetStateIfEmpty');\n                spyOn(replyObject, 'ready').and.callFake(\n                    (options, context) => options.ready.call(context));\n                spyOn(replyObject, 'save');\n\n                editor.set({\n                    hasDraft: false,\n                    replyObject: replyObject,\n                    text: '',\n                });\n                editor.save();\n\n                expect(editor.get('hasDraft')).toBe(false);\n                expect(editor.get('replyObject')).toBe(replyObject);\n                expect(replyObject.get('text')).toBe('Orig Text');\n                expect(replyObject.ready).toHaveBeenCalled();\n                expect(replyObject.save).not.toHaveBeenCalled();\n                expect(editor.resetStateIfEmpty).toHaveBeenCalled();\n                expect(editor.trigger).toHaveBeenCalledWith('saving');\n            });\n\n            describe('With body_top', function() {\n                function testSave(richText) {\n                    testBodySave({\n                        contextType: 'body_top',\n                        textAttr: 'bodyTop',\n                        richTextAttr: 'bodyTopRichText',\n                        richText: richText,\n                    });\n                }\n\n                it('richText=true', function() {\n                    testSave(true);\n                });\n\n                it('richText=false', function() {\n                    testSave(false);\n                });\n            });\n\n            describe('With body_bottom', function() {\n                function testSave(richText) {\n                    testBodySave({\n                        contextType: 'body_bottom',\n                        textAttr: 'bodyBottom',\n                        richTextAttr: 'bodyBottomRichText',\n                        richText: richText,\n                    });\n                }\n\n                it('richText=true', function() {\n                    testSave(true);\n                });\n\n                it('richText=false', function() {\n                    testSave(false);\n                });\n            });\n\n            describe('With diff comments', function() {\n                function testSave(richText) {\n                    testCommentSave({\n                        contextType: 'diff_comments',\n                        model: RB.DiffCommentReply,\n                        richText: richText,\n                    });\n                }\n\n                it('richText=true', function() {\n                    testSave(true);\n                });\n\n                it('richText=false', function() {\n                    testSave(false);\n                });\n            });\n\n            describe('With file attachment comments', function() {\n                function testSave(richText) {\n                    testCommentSave({\n                        contextType: 'file_attachment_comments',\n                        model: RB.FileAttachmentCommentReply,\n                        richText: richText,\n                    });\n                }\n\n                it('richText=true', function() {\n                    testSave(true);\n                });\n\n                it('richText=false', function() {\n                    testSave(false);\n                });\n            });\n\n            describe('With general comments', function() {\n                function testSave(richText) {\n                    testCommentSave({\n                        contextType: 'general_comments',\n                        model: RB.GeneralCommentReply,\n                        richText: richText,\n                    });\n                }\n\n                it('richText=true', function() {\n                    testSave(true);\n                });\n\n                it('richText=false', function() {\n                    testSave(false);\n                });\n            });\n\n            describe('With screenshot comments', function() {\n                function testSave(richText) {\n                    testCommentSave({\n                        contextType: 'screenshot_comments',\n                        model: RB.ScreenshotCommentReply,\n                        richText: richText,\n                    });\n                }\n\n                it('richText=true', function() {\n                    testSave(true);\n                });\n\n                it('richText=false', function() {\n                    testSave(false);\n                });\n            });\n        });\n\n        describe('resetStateIfEmpty', function() {\n            let replyObject;\n\n            beforeEach(function() {\n                replyObject = new RB.DiffCommentReply();\n\n                editor = new RB.ReviewRequestPage.ReviewReplyEditor({\n                    contextType: 'diff_comments',\n                    hasDraft: true,\n                    replyObject: replyObject,\n                    review: review,\n                    reviewReply: reviewReply,\n                });\n\n                spyOn(editor, 'trigger');\n                spyOn(replyObject, 'destroy').and.callFake(\n                    (options, context) => options.success.call(context));\n            });\n\n            it('Without empty text', function() {\n                editor.set('text', 'My Text');\n                editor.resetStateIfEmpty();\n\n                expect(replyObject.destroy).not.toHaveBeenCalled();\n                expect(editor.get('hasDraft')).toBe(true);\n                expect(editor.trigger).not.toHaveBeenCalledWith('resetState');\n            });\n\n            describe('With empty text', function() {\n                it('With no reply object', function() {\n                    editor.set('replyObject', null);\n                    editor.resetStateIfEmpty();\n\n                    expect(replyObject.destroy).not.toHaveBeenCalled();\n                    expect(editor.get('hasDraft')).toBe(false);\n                    expect(editor.trigger).toHaveBeenCalledWith('resetState');\n                });\n\n                it('With new reply object', function() {\n                    replyObject.set('id', null);\n                    editor.resetStateIfEmpty();\n\n                    expect(replyObject.destroy).not.toHaveBeenCalled();\n                    expect(editor.get('hasDraft')).toBe(false);\n                    expect(editor.trigger).toHaveBeenCalledWith('resetState');\n                });\n\n                it('With existing reply object', function() {\n                    replyObject.set('id', 123);\n                    editor.resetStateIfEmpty();\n\n                    expect(replyObject.destroy).toHaveBeenCalled();\n                    expect(editor.get('hasDraft')).toBe(false);\n                    expect(editor.trigger).toHaveBeenCalledWith('resetState');\n                });\n\n                describe('With context type', function() {\n                    beforeEach(function() {\n                        replyObject.set('id', 123);\n\n                        spyOn(editor, '_resetState');\n                        spyOn(reviewReply, 'discardIfEmpty');\n                    });\n\n                    it('body_top', function() {\n                        editor.set('contextType', 'body_top');\n                        editor.resetStateIfEmpty();\n\n                        expect(replyObject.destroy).not.toHaveBeenCalled();\n                        expect(editor._resetState).toHaveBeenCalledWith(true);\n                    });\n\n                    it('body_bottom', function() {\n                        editor.set('contextType', 'body_bottom');\n                        editor.resetStateIfEmpty();\n\n                        expect(replyObject.destroy).not.toHaveBeenCalled();\n                        expect(editor._resetState).toHaveBeenCalledWith(true);\n                    });\n\n                    it('diff_comments', function() {\n                        editor.set('contextType', 'diff_comments');\n                        editor.resetStateIfEmpty();\n\n                        expect(replyObject.destroy).toHaveBeenCalled();\n                        expect(editor._resetState).toHaveBeenCalledWith();\n                    });\n\n                    it('file_attachment_comments', function() {\n                        editor.set('contextType', 'file_attachment_comments');\n                        editor.resetStateIfEmpty();\n\n                        expect(replyObject.destroy).toHaveBeenCalled();\n                        expect(editor._resetState).toHaveBeenCalledWith();\n                    });\n\n                    it('general_comments', function() {\n                        editor.set('contextType', 'general_comments');\n                        editor.resetStateIfEmpty();\n\n                        expect(replyObject.destroy).toHaveBeenCalled();\n                        expect(editor._resetState).toHaveBeenCalledWith();\n                    });\n\n                    it('screenshot_comments', function() {\n                        editor.set('contextType', 'screenshot_comments');\n                        editor.resetStateIfEmpty();\n\n                        expect(replyObject.destroy).toHaveBeenCalled();\n                        expect(editor._resetState).toHaveBeenCalledWith();\n                    });\n                });\n            });\n        });\n    });\n});\n"]}