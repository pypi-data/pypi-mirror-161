{"version":3,"sources":["repositoryCommitsCollectionTests.es6.js"],"names":[],"mappings":";;AAAA,KAAK,CAAC,4CAAD,EAA+C,YAAW;EAC3D,MAAM,GAAG,GAAG,gCAAZ;EACA,MAAM,KAAK,GAAG,0CAAd;EACA,IAAI,UAAJ;EAEA,UAAU,CAAC,YAAW;IAClB,UAAU,GAAG,IAAI,EAAE,CAAC,iBAAP,CAAyB,EAAzB,EAA6B;MACtC,OAAO,EAAE,GAD6B;MAEtC,KAAK,EAAE;IAF+B,CAA7B,CAAb;EAIH,CALS,CAAV;EAOA,QAAQ,CAAC,SAAD,EAAY,YAAW;IAC3B,EAAE,CAAC,OAAD,EAAU,YAAW;MACnB,KAAK,CAAC,CAAD,EAAI,MAAJ,CAAL,CAAiB,GAAjB,CAAqB,QAArB,CAA8B,OAAO,IAAI;QACrC,MAAM,CAAC,OAAO,CAAC,GAAT,CAAN,CAAoB,IAApB,WAA4B,GAA5B,oBAAyC,KAAzC;QACA,MAAM,CAAC,OAAO,CAAC,IAAT,CAAN,CAAqB,IAArB,CAA0B,KAA1B;QAEA,OAAO,CAAC,OAAR,CAAgB;UACZ,IAAI,EAAE,IADM;UAEZ,OAAO,EAAE,CACL;YACI,WAAW,EAAE,mBADjB;YAEI,IAAI,EAAE,sBAFV;YAGI,EAAE,EAAE,0CAHR;YAII,OAAO,EAAE,8BAJb;YAKI,MAAM,EAAE,0CALZ;YAMI,kBAAkB,EAAE;UANxB,CADK,EASL;YACI,WAAW,EAAE,mBADjB;YAEI,IAAI,EAAE,sBAFV;YAGI,EAAE,EAAE,0CAHR;YAII,OAAO,EAAE,kCACA,wBALb;YAMI,MAAM,EAAE,0CANZ;YAOI,kBAAkB,EAAE;UAPxB,CATK,EAkBL;YACI,WAAW,EAAE,mBADjB;YAEI,IAAI,EAAE,sBAFV;YAGI,EAAE,EAAE,0CAHR;YAII,OAAO,EAAE,CACL,kCADK,EAEL,4CAFK,EAGL,sCAHK,EAIL,8CAJK,EAKL,2CALK,EAML,2CANK,EAOL,mBAPK,EAOgB,IAPhB,CAOqB,EAPrB,CAJb;YAYI,MAAM,EAAE,EAZZ;YAaI,kBAAkB,EAAE;UAbxB,CAlBK;QAFG,CAAhB;MAsCH,CA1CD;MA4CA,UAAU,CAAC,KAAX;MAEA,MAAM,CAAC,CAAC,CAAC,IAAH,CAAN,CAAe,gBAAf;MACA,MAAM,CAAC,UAAU,CAAC,MAAZ,CAAN,CAA0B,IAA1B,CAA+B,CAA/B;MACA,MAAM,CAAC,UAAU,CAAC,EAAX,CAAc,CAAd,EAAiB,GAAjB,CAAqB,YAArB,CAAD,CAAN,CACK,IADL,CACU,mBADV;MAEA,MAAM,CAAC,UAAU,CAAC,EAAX,CAAc,CAAd,EAAiB,GAAjB,CAAqB,MAArB,EAA6B,WAA7B,EAAD,CAAN,CAAmD,IAAnD,CAAwD,EAAxD;MACA,MAAM,CAAC,UAAU,CAAC,EAAX,CAAc,CAAd,EAAiB,GAAjB,CAAqB,SAArB,CAAD,CAAN,CACK,IADL,CACU,uDADV;MAEA,MAAM,CAAC,UAAU,CAAC,EAAX,CAAc,CAAd,EAAiB,GAAjB,CAAqB,kBAArB,CAAD,CAAN,CACK,IADL,CACU,6BADV;IAEH,CAxDC,CAAF;IA0DA,EAAE,CAAC,KAAD,EAAQ,YAAW;MACjB,MAAM,CAAC,CAAC,CAAC,MAAF,CAAS,UAAT,EAAqB,KAArB,CAAD,CAAN,CAAoC,IAApC,WAA4C,GAA5C,oBAAyD,KAAzD;IACH,CAFC,CAAF;EAGH,CA9DO,CAAR;AA+DH,CA3EI,CAAL","file":"repositoryCommitsCollectionTests.js","sourcesContent":["suite('rb/resources/collections/RepositoryCommits', function() {\n    const url = '/api/repositories/123/commits/';\n    const start = '859d4e148ce3ce60bbda6622cdbe5c2c2f8d9817';\n    let collection;\n\n    beforeEach(function() {\n        collection = new RB.RepositoryCommits([], {\n            urlBase: url,\n            start: start,\n        });\n    });\n\n    describe('Methods', function() {\n        it('fetch', function() {\n            spyOn($, 'ajax').and.callFake(request => {\n                expect(request.url).toBe(`${url}?start=${start}`);\n                expect(request.type).toBe('GET');\n\n                request.success({\n                    stat: 'ok',\n                    commits: [\n                        {\n                            author_name: 'Christian Hammond',\n                            date: '2013-06-25T23:31:22Z',\n                            id: '859d4e148ce3ce60bbda6622cdbe5c2c2f8d9817',\n                            message: \"Merge branch 'release-1.7.x'\",\n                            parent: '92463764015ef463b4b6d1a1825fee7aeec8cb15',\n                            review_request_url: '',\n                        },\n                        {\n                            author_name: 'Christian Hammond',\n                            date: '2013-06-25T23:30:59Z',\n                            id: '92463764015ef463b4b6d1a1825fee7aeec8cb15',\n                            message: 'Fixed the bug number for the ' +\n                                     'blacktriangledown bug.',\n                            parent: '84c730c7823b653a5bbcc007188d5c85a7c4ac58',\n                            review_request_url: 'http://example.com/r/18274/',\n                        },\n                        {\n                            author_name: 'Christian Hammond',\n                            date: '2013-06-25T22:53:32Z',\n                            id: '84c730c7823b653a5bbcc007188d5c85a7c4ac58',\n                            message: [\n                                \"Don't expose child resources in \",\n                                'ValidateDiffResource.\\n\\nFor convenience, ',\n                                'ValidateDiffResource inherited from ',\n                                'DiffResource.\\nThis brought along the child ',\n                                \"resources, which weren't valid to have.\\n\",\n                                'That ended up breaking docs, which tried ',\n                                'to traverse them.'].join(''),\n                            parent: '',\n                            review_request_url: '',\n                        },\n                    ],\n                });\n\n            });\n\n            collection.fetch();\n\n            expect($.ajax).toHaveBeenCalled();\n            expect(collection.length).toBe(3);\n            expect(collection.at(0).get('authorName'))\n                .toBe('Christian Hammond');\n            expect(collection.at(1).get('date').getUTCHours()).toBe(23);\n            expect(collection.at(2).get('summary'))\n                .toBe(\"Don't expose child resources in ValidateDiffResource.\");\n            expect(collection.at(1).get('reviewRequestURL'))\n                .toBe('http://example.com/r/18274/');\n        });\n\n        it('url', function() {\n            expect(_.result(collection, 'url')).toBe(`${url}?start=${start}`);\n        });\n    });\n});\n"]}