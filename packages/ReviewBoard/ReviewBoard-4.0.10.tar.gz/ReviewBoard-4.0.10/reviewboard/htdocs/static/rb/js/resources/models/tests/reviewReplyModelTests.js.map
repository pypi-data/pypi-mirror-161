{"version":3,"sources":["reviewReplyModelTests.es6.js"],"names":[],"mappings":"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","file":"reviewReplyModelTests.js","sourcesContent":["suite('rb/resources/models/ReviewReply', function() {\n    let parentObject;\n    let model;\n\n    beforeEach(function() {\n        parentObject = new RB.BaseResource({\n            'public': true,\n            links: {\n                replies: {\n                    href: '/api/foos/replies/',\n                },\n            },\n        });\n\n        model = new RB.ReviewReply({\n            parentObject: parentObject,\n        });\n    });\n\n    describe('destroy', function() {\n        let callbacks;\n\n        beforeEach(function() {\n            callbacks = {\n                ready: function() {},\n                error: function() {},\n            };\n\n            spyOn(Backbone.Model.prototype, 'destroy')\n                .and.callFake(options => {\n                    if (options && _.isFunction(options.success)) {\n                        options.success();\n                    }\n                });\n            spyOn(model, '_retrieveDraft').and.callThrough();\n            spyOn(parentObject, 'ready')\n                .and.callFake((options, context) => {\n                    if (options && _.isFunction(options.ready)) {\n                        options.ready.call(context);\n                    }\n                });\n            spyOn(callbacks, 'ready');\n            spyOn(callbacks, 'error');\n        });\n\n        describe('With isNew=true', function() {\n            beforeEach(function() {\n                expect(model.isNew()).toBe(true);\n                expect(model.get('loaded')).toBe(false);\n\n                spyOn(Backbone.Model.prototype, 'fetch')\n                    .and.callFake(options => {\n                        if (options && _.isFunction(options.success)) {\n                            options.error(model, {\n                                status: 404,\n                            });\n                        }\n                    });\n            });\n\n            it('With callbacks', function() {\n                model.destroy(callbacks);\n\n                expect(model.isNew()).toBe(true);\n                expect(model.get('loaded')).toBe(false);\n\n                expect(parentObject.ready).toHaveBeenCalled();\n                expect(model._retrieveDraft).toHaveBeenCalled();\n                expect(Backbone.Model.prototype.fetch).toHaveBeenCalled();\n                expect(Backbone.Model.prototype.destroy).toHaveBeenCalled();\n            });\n        });\n\n        describe('With isNew=false', function() {\n            beforeEach(function() {\n                model.set({\n                    id: 123,\n                    loaded: true,\n                });\n\n                spyOn(Backbone.Model.prototype, 'fetch');\n            });\n\n            it('With callbacks', function() {\n                model.destroy(callbacks);\n\n                expect(parentObject.ready).toHaveBeenCalled();\n                expect(model._retrieveDraft).not.toHaveBeenCalled();\n                expect(Backbone.Model.prototype.fetch).not.toHaveBeenCalled();\n                expect(Backbone.Model.prototype.destroy).toHaveBeenCalled();\n            });\n        });\n    });\n\n    describe('discardIfEmpty', function() {\n        let callbacks;\n\n        beforeEach(function() {\n            callbacks = {\n                success: function() {},\n                error: function() {},\n            };\n\n            spyOn(model, 'destroy')\n                .and.callFake(options => {\n                    if (options && _.isFunction(options.success)) {\n                        options.success();\n                    }\n                });\n            spyOn(parentObject, 'ready')\n                .and.callFake((options, context) => {\n                    if (options && _.isFunction(options.ready)) {\n                        options.ready.call(context);\n                    }\n                });\n            spyOn(model, 'ready')\n                .and.callFake((options, context) => {\n                    if (options && _.isFunction(options.ready)) {\n                        options.ready.call(context);\n                    }\n                });\n            spyOn(callbacks, 'success');\n            spyOn(callbacks, 'error');\n        });\n\n        it('With isNew=true', function() {\n            expect(model.isNew()).toBe(true);\n            expect(model.get('loaded')).toBe(false);\n\n            model.discardIfEmpty(callbacks);\n\n            expect(model.destroy).not.toHaveBeenCalled();\n        });\n\n        describe('With isNew=false', function() {\n            const commentsData = {};\n\n            beforeEach(function() {\n                model.set({\n                    id: 123,\n                    loaded: true,\n                    links: {\n                        self: {\n                            href: '/api/foos/replies/123/',\n                        },\n                        diff_comments: {\n                            href: '/api/diff-comments/',\n                        },\n                        screenshot_comments: {\n                            href: '/api/screenshot-comments/',\n                        },\n                        file_attachment_comments: {\n                            href: '/api/file-attachment-comments/',\n                        },\n                        general_comments: {\n                            href: '/api/general-comments/',\n                        },\n                    },\n                });\n\n                spyOn(RB, 'apiCall').and.callFake(options => {\n                    const links = model.get('links');\n                    const data = {};\n                    const key = _.find(\n                        RB.ReviewReply.prototype.COMMENT_LINK_NAMES,\n                        name => (options.url === links[name].href));\n\n                    if (key) {\n                        data[key] = commentsData[key] || [];\n                        options.success(data);\n                    } else {\n                        options.error({\n                            status: 404,\n                        });\n                    }\n                });\n                spyOn(Backbone.Model.prototype, 'fetch')\n                    .and.callFake(options => {\n                        if (options && _.isFunction(options.success)) {\n                            options.success();\n                        }\n                    });\n            });\n\n            it('With no comments or body replies', function() {\n                model.discardIfEmpty(callbacks);\n\n                expect(model.destroy).toHaveBeenCalled();\n                expect(callbacks.success).toHaveBeenCalledWith(true);\n            });\n\n            it('With bodyTop', function() {\n                model.set({\n                    bodyTop: 'hi',\n                });\n                model.discardIfEmpty(callbacks);\n\n                expect(model.destroy).not.toHaveBeenCalled();\n                expect(callbacks.success).toHaveBeenCalledWith(false);\n            });\n\n            it('With bodyBottom', function() {\n                model.set({\n                    bodyBottom: 'hi',\n                });\n                model.discardIfEmpty(callbacks);\n\n                expect(model.destroy).not.toHaveBeenCalled();\n                expect(callbacks.success).toHaveBeenCalledWith(false);\n            });\n\n            it('With diff comment', function() {\n                commentsData.diff_comments = [{\n                    id: 1,\n                }];\n\n                model.discardIfEmpty(callbacks);\n\n                expect(model.destroy).not.toHaveBeenCalled();\n                expect(callbacks.success).toHaveBeenCalledWith(false);\n            });\n\n            it('With screenshot comment', function() {\n                commentsData.screenshot_comments = [{\n                    id: 1,\n                }];\n\n                model.discardIfEmpty(callbacks);\n\n                expect(model.destroy).not.toHaveBeenCalled();\n                expect(callbacks.success).toHaveBeenCalledWith(false);\n            });\n\n            it('With file attachment comment', function() {\n                commentsData.file_attachment_comments = [{\n                    id: 1,\n                }];\n\n                model.discardIfEmpty(callbacks);\n\n                expect(model.destroy).not.toHaveBeenCalled();\n                expect(callbacks.success).toHaveBeenCalledWith(false);\n            });\n\n            it('With general comment', function() {\n                commentsData.general_comments = [{\n                    id: 1,\n                }];\n\n                model.discardIfEmpty(callbacks);\n\n                expect(model.destroy).not.toHaveBeenCalled();\n                expect(callbacks.success).toHaveBeenCalledWith(false);\n            });\n        });\n    });\n\n    describe('ready', function() {\n        let callbacks;\n\n        beforeEach(function() {\n            callbacks = {\n                ready: function() {},\n                error: function() {},\n            };\n\n            spyOn(parentObject, 'ready')\n                .and.callFake((options, context) => {\n                    if (options && _.isFunction(options.ready)) {\n                        options.ready.call(context);\n                    }\n                });\n            spyOn(callbacks, 'ready');\n            spyOn(callbacks, 'error');\n        });\n\n        describe('With isNew=true', function() {\n            beforeEach(function() {\n                expect(model.isNew()).toBe(true);\n                expect(model.get('loaded')).toBe(false);\n\n                spyOn(Backbone.Model.prototype, 'fetch')\n                    .and.callFake(options => {\n                        if (options && _.isFunction(options.success)) {\n                            options.success();\n                        }\n                    });\n                spyOn(model, '_retrieveDraft')\n                    .and.callFake((options, context) => {\n                        if (options && _.isFunction(options.ready)) {\n                            options.ready.call(context);\n                        }\n                    });\n            });\n\n            it('With callbacks', function() {\n                model.ready(callbacks);\n\n                expect(parentObject.ready).toHaveBeenCalled();\n                expect(model._retrieveDraft).toHaveBeenCalled();\n                expect(callbacks.ready).toHaveBeenCalled();\n            });\n        });\n\n        describe('With isNew=false', function() {\n            beforeEach(function() {\n                model.set({\n                    id: 123,\n                });\n\n                spyOn(Backbone.Model.prototype, 'fetch')\n                    .and.callFake(options => {\n                        if (options && _.isFunction(options.success)) {\n                            options.success();\n                        }\n                    });\n                spyOn(model, '_retrieveDraft')\n                    .and.callFake((options, context) => {\n                        if (options && _.isFunction(options.ready)) {\n                            options.ready.call(context);\n                        }\n                    });\n            });\n\n            it('With callbacks', function() {\n                model.ready(callbacks);\n\n                expect(parentObject.ready).toHaveBeenCalled();\n                expect(model._retrieveDraft).not.toHaveBeenCalled();\n                expect(callbacks.ready).toHaveBeenCalled();\n            });\n        });\n\n        it('After destruction', function() {\n            spyOn(model, '_retrieveDraft').and.callThrough();\n\n            spyOn(Backbone.Model.prototype, 'fetch').and.callFake(options => {\n                model.set({\n                    id: 123,\n                    links: {\n                        self: {\n                            href: '/api/foos/replies/123/',\n                        },\n                    },\n                    loaded: true,\n                });\n\n                options.success();\n            });\n\n            spyOn(Backbone.Model.prototype, 'destroy').and.callFake(\n                options => options.success());\n\n            expect(model.isNew()).toBe(true);\n            expect(model.get('loaded')).toBe(false);\n            expect(model._needDraft).toBe(undefined);\n\n            /* Make our initial ready call. */\n            model.ready(callbacks);\n\n            expect(parentObject.ready).toHaveBeenCalled();\n            expect(model._retrieveDraft).toHaveBeenCalled();\n            expect(Backbone.Model.prototype.fetch).toHaveBeenCalled();\n            expect(callbacks.ready).toHaveBeenCalled();\n            expect(model.isNew()).toBe(false);\n            expect(model.get('loaded')).toBe(true);\n            expect(model._needDraft).toBe(false);\n\n            /* We have a loaded object. Reset it. */\n            model.destroy(callbacks);\n\n            expect(model.isNew()).toBe(true);\n            expect(model.get('loaded')).toBe(false);\n            expect(model._needDraft).toBe(true);\n\n            parentObject.ready.calls.reset();\n            model._retrieveDraft.calls.reset();\n            callbacks.ready.calls.reset();\n\n            /* Now that it's destroyed, try to fetch it again. */\n            model.ready(callbacks);\n\n            expect(model._retrieveDraft).toHaveBeenCalled();\n            expect(Backbone.Model.prototype.fetch).toHaveBeenCalled();\n            expect(callbacks.ready).toHaveBeenCalled();\n            expect(model._needDraft).toBe(false);\n        });\n    });\n\n    describe('parse', function() {\n        beforeEach(function() {\n            model.rspNamespace = 'my_reply';\n        });\n\n        it('API payloads', function() {\n            var data = model.parse({\n                stat: 'ok',\n                my_reply: {\n                    id: 42,\n                    body_top: 'foo',\n                    body_bottom: 'bar',\n                    'public': false,\n                    body_top_text_type: 'markdown',\n                    body_bottom_text_type: 'plain',\n                },\n            });\n\n            expect(data).not.toBe(undefined);\n            expect(data.id).toBe(42);\n            expect(data.bodyTop).toBe('foo');\n            expect(data.bodyBottom).toBe('bar');\n            expect(data.public).toBe(false);\n            expect(data.bodyTopRichText).toBe(true);\n            expect(data.bodyBottomRichText).toBe(false);\n        });\n    });\n\n    describe('toJSON', function() {\n        describe('bodyTop field', function() {\n            it('With value', function() {\n                model.set('bodyTop', 'foo');\n                const data = model.toJSON();\n                expect(data.body_top).toBe('foo');\n            });\n        });\n\n        describe('bodyBottom field', function() {\n            it('With value', function() {\n                model.set('bodyBottom', 'foo');\n                const data = model.toJSON();\n                expect(data.body_bottom).toBe('foo');\n            });\n        });\n\n        describe('bodyTopRichText field', function() {\n            it('With true', function() {\n                model.set('bodyTopRichText', true);\n                const data = model.toJSON();\n                expect(data.body_top_text_type).toBe('markdown');\n            });\n\n            it('With false', function() {\n                model.set('bodyTopRichText', false);\n                const data = model.toJSON();\n                expect(data.body_top_text_type).toBe('plain');\n            });\n        });\n\n        describe('bodyBottomRichText field', function() {\n            it('With true', function() {\n                model.set('bodyBottomRichText', true);\n                const data = model.toJSON();\n                expect(data.body_bottom_text_type).toBe('markdown');\n            });\n\n            it('With false', function() {\n                model.set('bodyBottomRichText', false);\n                const data = model.toJSON();\n                expect(data.body_bottom_text_type).toBe('plain');\n            });\n        });\n\n        describe('force_text_type field', function() {\n            it('With value', function() {\n                model.set('forceTextType', 'html');\n                const data = model.toJSON();\n                expect(data.force_text_type).toBe('html');\n            });\n\n            it('Without value', function() {\n                const data = model.toJSON();\n                expect(data.force_text_type).toBe(undefined);\n            });\n        });\n\n        describe('include_text_types field', function() {\n            it('With value', function() {\n                model.set('includeTextTypes', 'html');\n                const data = model.toJSON();\n                expect(data.include_text_types).toBe('html');\n            });\n\n            it('Without value', function() {\n                const data = model.toJSON();\n                expect(data.include_text_types).toBe(undefined);\n            });\n        });\n\n        describe('public field', function() {\n            it('With value', function() {\n                model.set('public', true);\n                const data = model.toJSON();\n                expect(data.public).toBe(true);\n            });\n        });\n    });\n});\n"]}