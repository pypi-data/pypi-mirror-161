{"version":3,"sources":["repositoryBranchesCollectionTests.es6.js"],"names":[],"mappings":";;AAAA,KAAK,CAAC,6CAAD,EAAgD,YAAW;EAC5D,IAAI,UAAJ;EAEA,UAAU,CAAC,YAAW;IAClB,UAAU,GAAG,IAAI,EAAE,CAAC,kBAAP,EAAb;IACA,UAAU,CAAC,GAAX,GAAiB,iCAAjB;EACH,CAHS,CAAV;EAKA,QAAQ,CAAC,SAAD,EAAY,YAAW;IAC3B,EAAE,CAAC,OAAD,EAAU,YAAW;MACnB,KAAK,CAAC,CAAD,EAAI,MAAJ,CAAL,CAAiB,GAAjB,CAAqB,QAArB,CAA8B,OAAO,IAAI;QACrC,MAAM,CAAC,OAAO,CAAC,GAAT,CAAN,CACK,IADL,CACU,iCADV;QAEA,MAAM,CAAC,OAAO,CAAC,IAAT,CAAN,CAAqB,IAArB,CAA0B,KAA1B;QAEA,OAAO,CAAC,OAAR,CAAgB;UACZ,IAAI,EAAE,IADM;UAEZ,QAAQ,EAAE,CACN;YACI,IAAI,EAAE,QADV;YAEI,MAAM,EAAE,0CAFZ;YAGI,WAAW;UAHf,CADM,EAMN;YACI,IAAI,EAAE,eADV;YAEI,MAAM,EAAE,0CAFZ;YAGI,WAAW;UAHf,CANM,EAWN;YACI,IAAI,EAAE,eADV;YAEI,MAAM,EAAE,0CAFZ;YAGI,WAAW;UAHf,CAXM;QAFE,CAAhB;MAoBH,CAzBD;MA2BA,UAAU,CAAC,KAAX;MAEA,MAAM,CAAC,CAAC,CAAC,IAAH,CAAN,CAAe,gBAAf;MACA,MAAM,CAAC,UAAU,CAAC,MAAZ,CAAN,CAA0B,IAA1B,CAA+B,CAA/B;MACA,MAAM,CAAC,UAAU,CAAC,EAAX,CAAc,CAAd,EAAiB,GAAjB,CAAqB,MAArB,CAAD,CAAN,CAAqC,IAArC,CAA0C,QAA1C;MACA,MAAM,CAAC,UAAU,CAAC,EAAX,CAAc,CAAd,EAAiB,GAAjB,CAAqB,QAArB,CAAD,CAAN,CACK,IADL,CACU,0CADV;MAEA,MAAM,CAAC,UAAU,CAAC,EAAX,CAAc,CAAd,EAAiB,GAAjB,CAAqB,WAArB,CAAD,CAAN,CAA0C,IAA1C,CAA+C,KAA/C;MAEA,MAAM,CAAC,UAAU,CAAC,MAAX,CACH,CAAC,IAAD,EAAO,IAAP,KAAiB,IAAI,GAAG,IAAI,CAAC,GAAL,CAAS,WAAT,CAAP,GAA+B,CAA/B,GAAmC,CADjD,EACqD,CADrD,CAAD,CAAN,CAEK,IAFL,CAEU,CAFV;IAGH,CAxCC,CAAF;EAyCH,CA1CO,CAAR;AA2CH,CAnDI,CAAL","file":"repositoryBranchesCollectionTests.js","sourcesContent":["suite('rb/resources/collections/RepositoryBranches', function() {\n    let collection;\n\n    beforeEach(function() {\n        collection = new RB.RepositoryBranches();\n        collection.url = '/api/repositories/123/branches/';\n    });\n\n    describe('Methods', function() {\n        it('fetch', function() {\n            spyOn($, 'ajax').and.callFake(request => {\n                expect(request.url)\n                    .toBe('/api/repositories/123/branches/');\n                expect(request.type).toBe('GET');\n\n                request.success({\n                    stat: 'ok',\n                    branches: [\n                        {\n                            name: 'master',\n                            commit: '859d4e148ce3ce60bbda6622cdbe5c2c2f8d9817',\n                            'default': true,\n                        },\n                        {\n                            name: 'release-1.7.x',\n                            commit: '92463764015ef463b4b6d1a1825fee7aeec8cb15',\n                            'default': false,\n                        },\n                        {\n                            name: 'release-1.6.x',\n                            commit: 'a15d0e635064a2e1929ce1bf3bc8d4aa65738b64',\n                            'default': false,\n                        },\n                    ],\n                });\n            });\n\n            collection.fetch();\n\n            expect($.ajax).toHaveBeenCalled();\n            expect(collection.length).toBe(3);\n            expect(collection.at(0).get('name')).toBe('master');\n            expect(collection.at(1).get('commit'))\n                .toBe('92463764015ef463b4b6d1a1825fee7aeec8cb15');\n            expect(collection.at(2).get('isDefault')).toBe(false);\n\n            expect(collection.reduce(\n                (memo, item) => (memo + item.get('isDefault') ? 1 : 0), 0))\n                .toBe(1);\n        });\n    });\n});\n"]}