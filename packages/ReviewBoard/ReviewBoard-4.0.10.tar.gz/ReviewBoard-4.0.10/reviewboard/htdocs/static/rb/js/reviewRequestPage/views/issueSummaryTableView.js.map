{"version":3,"sources":["issueSummaryTableView.es6.js"],"names":[],"mappings":"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","file":"issueSummaryTableView.js","sourcesContent":["/**\n * View that manages a display of issues filed on a review request.\n *\n * This displays all the issues filed against a review request, and allows\n * sorting by state and reviewer. As issues are updated on reviews, the\n * table is updated to reflect the new states.\n */\nRB.ReviewRequestPage.IssueSummaryTableView = Backbone.View.extend({\n    events: {\n        'change .rb-c-issue-summary-table__reviewer-filter':\n            '_onReviewerChanged',\n        'click thead th': '_onHeaderClicked',\n        'click .rb-c-tabs__tab': '_onTabChanged',\n        'click tbody tr[data-issue-id]': '_onIssueClicked',\n    },\n\n    /** Maps a status filter state to its corresponding selector. */\n    stateToSelectorMap: {\n        open: '.-is-open',\n        dropped: '.-is-dropped',\n        resolved: '.-is-resolved',\n        verifying: '.-is-verifying-resolved, .-is-verifying-dropped',\n        all: '',\n    },\n\n    /** Maps an issue status type to its corresponding icon. */\n    statusIconsMap: {\n        open: 'rb-icon-issue-open',\n        dropped: 'rb-icon-issue-dropped',\n        resolved: 'rb-icon-issue-resolved',\n        verifying: 'rb-icon-issue-verifying',\n    },\n\n    COLUMN_DESCRIPTION: 1,\n    COLUMN_REVIEWER: 2,\n    COLUMN_LAST_UPDATED: 3,\n\n    _noIssuesTemplate: _.template(dedent`\n        <tr class=\"rb-c-issue-summary-table__no-issues\">\n         <td colspan=\"5\"><em><%- text %></em></td>\n        </tr>\n    `),\n\n    /**\n     * Initialize the issue summary table.\n     */\n    initialize() {\n        this.statusFilterState = null;\n        this.reviewerFilterState = null;\n\n        // Maps a reviewer name to issues issued by the reviewer.\n        this.reviewerToSelectorMap = null;\n\n        // Maps comment IDs to rows in the table.\n        this.commentIDToRowMap = {};\n\n        this._lastWindowWidth = null;\n        this._$window = $(window);\n        this._$currentTab = null;\n\n        _.bindAll(this, '_onWindowResize');\n    },\n\n    /**\n     * Render the issue summary table.\n     *\n     * Returns:\n     *     RB.ReviewRequestPage.IssueSummaryTableView:\n     *     This instance, for chaining.\n     */\n    render() {\n        const $issueSummaryTable =\n            this.$el.children('.rb-c-issue-summary-table');\n\n        this._$header = $issueSummaryTable.children(\n            '.rb-c-review-request-field-tabular__header');\n        this._$tabs = this._$header.children('.rb-c-tabs');\n        this._$filters = this._$header.children(\n            '.rb-c-review-request-field-tabular__filters');\n        this._$reviewerFilter = this._$filters.children(\n            '.rb-c-issue-summary-table__reviewer-filter');\n        this._$table = $issueSummaryTable.children(\n            '.rb-c-review-request-field-tabular__data');\n        this._$thead = this._$table.children('thead');\n        this._$tbody = this._$table.children('tbody');\n        this._$reviewerHeader = this._$thead.find(\n            `tr :nth-child(${this.COLUMN_REVIEWER})`);\n        this._$noIssues = null;\n\n        let hasExistingState = false;\n\n        if (this.statusFilterState === null) {\n            this._$currentTab = this.$('.rb-c-tabs__tab.-is-active');\n            console.assert(this._$currentTab.length === 1);\n\n            this.statusFilterState = this._$currentTab.data('issue-state');\n        } else {\n            this.$('.rb-c-tabs__tab.-is-active').removeClass('-is-active');\n            this._$currentTab =\n                this.$('.rb-c-tabs__tab' +\n                       `[data-issue-state=${this.statusFilterState}]`)\n                    .addClass('-is-active');\n            hasExistingState = true;\n        }\n\n        this._buildMaps();\n\n        if (this.reviewerFilterState === null) {\n            this.reviewerFilterState = this._$reviewerFilter.val();\n        } else {\n            this._$reviewerFilter.val(this.reviewerFilterState);\n            hasExistingState = true;\n        }\n\n        if (hasExistingState) {\n            this._resetFilters();\n            this._applyFilters();\n        } else {\n            this._checkIssues();\n        }\n\n        this.stopListening(this.model, 'issueStatusUpdated');\n        this.listenTo(this.model, 'issueStatusUpdated',\n                      this._onIssueStatusChanged);\n\n        this._$window.off('resize', this._onWindowResize);\n        this._$window.on('resize', this._onWindowResize);\n        this._onWindowResize();\n\n        this.$('.user').user_infobox();\n        this.$('time.timesince').timesince();\n        Djblets.enableRetinaImages(this.$el);\n\n        return this;\n    },\n\n    /**\n     * Reset the filters on the list.\n     *\n     * This will unhide all rows, preparing the list for a new filter.\n     */\n    _resetFilters() {\n        this._getIssueRows().filter('.-is-hidden').removeClass('-is-hidden');\n    },\n\n    /**\n     * Apply the filters on the list.\n     *\n     * This will show or hide rows, based on the current state and reviewer\n     * filters.\n     */\n    _applyFilters() {\n        const sel = this.stateToSelectorMap[this.statusFilterState] +\n                    this.reviewerToSelectorMap[this.reviewerFilterState];\n\n        if (sel) {\n            this._getIssueRows()\n                .not(sel)\n                .addClass('-is-hidden');\n        }\n\n        this._checkIssues();\n        this._updateReviewersPos();\n    },\n\n    /**\n     * Update the position of the reviewers filter.\n     *\n     * The filter will be aligned with the header column in the table.\n     */\n    _updateReviewersPos() {\n        if (this._$reviewerHeader.is(':visible')) {\n            this._$filters.css({\n                left: this._$reviewerHeader.offset().left -\n                      this._$table.offset().left +\n                      this._$reviewerHeader.getExtents('p', 'l'),\n            });\n        } else {\n            this._$filters.css('left', '');\n        }\n    },\n\n    /**\n     * Update the UI to reflect whether the issue list is empty.\n     *\n     * If the issue list is empty, this will add a row saying there are no\n     * issues, using wording that reflects the current filter state.\n     */\n    _checkIssues() {\n        if (this._$noIssues !== null) {\n            this._$noIssues.remove();\n            this._$noIssues = null;\n        }\n\n        this._$thead.show();\n\n        if (this._getIssueRows().not('.-is-hidden').length === 0) {\n            const reviewerFilter = this.reviewerFilterState;\n            const statusFilter = this.statusFilterState;\n            let text;\n\n            if (reviewerFilter !== 'all') {\n                if (statusFilter === 'open') {\n                    text = interpolate(\n                        gettext('There are no open issues from %s'),\n                        [reviewerFilter]);\n                } else if (statusFilter === 'verifying') {\n                    text = interpolate(\n                        gettext('There are no issues waiting for verification from %s'),\n                        [reviewerFilter]);\n                } else if (statusFilter === 'dropped') {\n                    text = interpolate(\n                        gettext('There are no dropped issues from %s'),\n                        [reviewerFilter]);\n                } else if (statusFilter === 'resolved') {\n                    text = interpolate(\n                        gettext('There are no resolved issues from %s'),\n                        [reviewerFilter]);\n                }\n            } else {\n                if (statusFilter === 'open') {\n                    text = gettext('There are no open issues');\n                } else if (statusFilter === 'verifying') {\n                    text = gettext('There are no issues waiting for verification');\n                } else if (statusFilter === 'dropped') {\n                    text = gettext('There are no dropped issues');\n                } else if (statusFilter === 'resolved') {\n                    text = gettext('There are no resolved issues');\n                }\n            }\n\n            this._$thead.hide();\n\n            this._$noIssues =\n                $(this._noIssuesTemplate({\n                    text: text,\n                }))\n                .appendTo(this._$tbody);\n        }\n    },\n\n    /**\n     * Return the table rows containing issues.\n     *\n     * Returns:\n     *     jQuery:\n     *     A selector for the rows containing issues.\n     */\n    _getIssueRows() {\n        return this._$tbody\n            .children()\n            .not('.rb-c-issue-summary-table__no-issues');\n    },\n\n    /**\n     * Sort the issues by the selected column in ascending order.\n     *\n     * The Last Updated column will be sorted based on its timestamp. All\n     * other columns will be sorted based on their normalized text contents.\n     *\n     * Args:\n     *     colIndex (number):\n     *         The 0-based index of the column clicked.\n     *\n     *     ascending (boolean):\n     *         Whether to sort by ascending order.\n     */\n    _sortByCol(colIndex, ascending) {\n        this._$tbody.html(this._getIssueRows().sort((issueA, issueB) => {\n            const $issueA = $(issueA);\n            const $issueB = $(issueB);\n            const $columnA = $issueA.children(`td:nth-child(${colIndex})`);\n            const $columnB = $issueB.children(`td:nth-child(${colIndex})`);\n            let value1;\n            let value2;\n\n            if (colIndex === this.COLUMN_LAST_UPDATED) {\n                /*\n                 * Note that we're reversing the values here. We want newer\n                 * timestamps (which is \"greater\", comparison-wise).\n                 */\n                value1 = $columnB.children('time').attr('datetime');\n                value2 = $columnA.children('time').attr('datetime');\n            } else {\n                value1 = $columnA.text().strip().toLowerCase();\n                value2 = $columnB.text().strip().toLowerCase();\n            }\n\n            /*\n             * If the two values are the same, we'll want to order by\n             * issue ID instead, helping to keep ordering consistent within\n             * an author or published timestamp.\n             *\n             * They should always be in ascending order, relative to the\n             * column being sorted.\n             */\n            if (value1 === value2) {\n                const issueID1 = $issueA.data('issue-id');\n                const issueID2 = $issueB.data('issue-id');\n\n                if (ascending) {\n                    value1 = issueID1;\n                    value2 = issueID2;\n                } else {\n                    value1 = issueID2;\n                    value2 = issueID1;\n                }\n            }\n\n            /*\n             * Compute an initial value intended for ascending order. Then\n             * we'll negate it if sorting in descending order.\n             */\n            let result;\n\n            if (value1 < value2) {\n                result = -1;\n            } else if (value1 > value2) {\n                result = 1;\n            } else {\n                result = 0;\n            }\n\n            if (!ascending) {\n                result = -result;\n            }\n\n            return result;\n        }));\n    },\n\n    /**\n     * Build maps for looking up issue rows based on state.\n     *\n     * This will build a map (and filter entries) for reviewers, and build\n     * a map of comment IDs to rows.\n     */\n    _buildMaps() {\n        this._$reviewerFilter.children().not('[value=\"all\"]').remove();\n\n        this.reviewerToSelectorMap = {\n            all: '',\n        };\n\n        _.each(this._getIssueRows(), issueEl => {\n            const $issue = $(issueEl);\n\n            this.commentIDToRowMap[$issue.data('issue-id')] = $issue;\n\n            const reviewer = $issue.data('reviewer');\n\n            if (!_.has(this.reviewerToSelectorMap, reviewer)) {\n                this.reviewerToSelectorMap[reviewer] =\n                    `[data-reviewer=\"${reviewer}\"]`;\n                this._$reviewerFilter.append(\n                    $('<option>').text(reviewer).val(reviewer));\n            }\n        });\n    },\n\n    /**\n     * Handler for when the issue status of a comment changes.\n     *\n     * Updates the display of the table to reflect the state of that issue.\n     *\n     * Args:\n     *     comment (RB.BaseComment):\n     *         The comment whose issue has changed.\n     *\n     *     oldStatus (string):\n     *         The old status.\n     *\n     *     timestamp (Date):\n     *         The new timestamp for the comment.\n     */\n    _onIssueStatusChanged(comment, oldStatus, timestamp) {\n        const $entry = this.commentIDToRowMap[comment.id];\n        const newStatus = comment.get('issueStatus');\n\n        RB.scrollManager.markForUpdate(this.$el);\n\n        /* Update the icon for this entry to reflect the new status. */\n        $entry\n            .removeClass(`-is-${oldStatus}`)\n            .addClass(`-is-${newStatus}`)\n            .find('.rb-icon')\n                .removeClass(this.statusIconsMap[oldStatus])\n                .addClass(this.statusIconsMap[newStatus]);\n\n        /* Show or hide the entry according to the current filter state. */\n        if (this.statusFilterState !== newStatus &&\n            this.statusFilterState !== 'all') {\n            $entry.addClass('-is-hidden');\n        } else {\n            $entry.removeClass('-is-hidden');\n        }\n\n        /* Update the displayed counters for this issue type. */\n        const $oldCounter =\n            this._$tabs\n            .children(`[data-issue-state=${oldStatus}]`)\n            .find('.rb-c-issue-summary-table__counter');\n        const $newCounter =\n            this._$tabs\n            .children(`[data-issue-state=${newStatus}]`)\n            .find('.rb-c-issue-summary-table__counter');\n\n        $oldCounter.text(parseInt($oldCounter.text(), 10) - 1);\n        $newCounter.text(parseInt($newCounter.text(), 10) + 1);\n\n        /* Update the timestamp for this issue's entry. */\n        $entry.find('time')\n            .attr('datetime', new Date(timestamp).toISOString())\n            .text(timestamp)\n            .timesince();\n\n        /*\n         * If we're no longer showing any issues for this filter, update\n         * the table accordingly.\n         */\n        this._checkIssues();\n\n        /*\n         * The updates may have impacted the reviewers filter, so update its\n         * position.\n         */\n        this._updateReviewersPos();\n\n        /*\n         * Update the scroll position to counteract the addition/deletion\n         * of the entry in the issue summary table, so the page doesn't\n         * appear to jump.\n         */\n        RB.scrollManager.markUpdated(this.$el);\n    },\n\n    /**\n     * Handler for when a header on the table is clicked.\n     *\n     * This will sort the table by the header.\n     *\n     * Args:\n     *     evt (Event):\n     *         The click event.\n     */\n    _onHeaderClicked(evt) {\n        evt.stopPropagation();\n\n        if (this._getIssueRows().not('.-is-hidden').length !== 0) {\n            this._sortByCol(\n                $(evt.target).parent().children().index(evt.target) + 1,\n                !evt.shiftKey);\n        }\n    },\n\n    /**\n     * Handler for when an issue is clicked.\n     *\n     * This will notify any listeners to the ``issueClicked`` event that the\n     * issue has been clicked, providing the comment type and the issue ID.\n     *\n     * It will then navigate to the URL for that particular comment.\n     *\n     * Args:\n     *     evt (Event):\n     *         The click event.\n     */\n    _onIssueClicked(evt) {\n        if (evt.target.tagName === 'A') {\n            /* Allow the link to go through. */\n            return;\n        }\n\n        evt.stopPropagation();\n\n        /*\n         * Extract the comment's attributes from the issue element and trigger\n         * the issueClicked event so the page can navigate the user to the\n         * relevant issue comment.\n         */\n        const $el = $(evt.currentTarget);\n\n        this.trigger('issueClicked', {\n            commentType: $el.data('comment-type'),\n            commentID: $el.data('issue-id'),\n            commentURL: $el.data('comment-href'),\n        });\n    },\n\n    /**\n     * Handler for when the tab has changed.\n     *\n     * This will switch the view to show the issues that match the tab's\n     * issue state and the current reviewer filter.\n     *\n     * Args:\n     *     evt (Event):\n     *         The click event.\n     */\n    _onTabChanged(evt) {\n        const $tab = $(evt.currentTarget);\n\n        this._$currentTab.removeClass('-is-active');\n\n        this._resetFilters();\n        this.statusFilterState = $tab.data('issue-state');\n        this._applyFilters();\n\n        $tab.addClass('-is-active');\n        this._$currentTab = $tab;\n    },\n\n    /**\n     * Handler for when the reviewer filter changes.\n     *\n     * This will switch the view to show issues that match the reviewer\n     * and the current issue filter state.\n     */\n    _onReviewerChanged() {\n        this._resetFilters();\n        this.reviewerFilterState = this._$reviewerFilter.val();\n        this._applyFilters();\n    },\n\n    /**\n     * Handler for when the window resizes.\n     *\n     * Updates the calculated position of the reviewers filter.\n     */\n    _onWindowResize() {\n        const winWidth = this._$window.width();\n\n        if (winWidth !== this._lastWindowWidth) {\n            this._updateReviewersPos();\n        }\n\n        this._lastWindowWidth = winWidth;\n    }\n});\n"]}