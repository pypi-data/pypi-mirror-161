{
    "definitions": {
        "port": {
            "type": "object",
            "additionalProperties": false,
            "required": [
                "topic"
            ],
            "properties": {
                "topic": {
                    "type": "string",
                    "minLength": 1
                },
                "description": {
                    "type": "string",
                    "minLength": 1
                }
            }
        },
        "huawei_port": {
            "type": "object",
            "additionalProperties": false,
            "required": [
                "datatype",
                "service_interface",
                "service_interface_deployment",
                "event_deployment",
                "instance_id",
                "transport_plugin",
                "domain_id"
            ],
            "properties": {
                "datatype": {
                    "type": "string",
                    "minLength": 1
                },
                "service_interface": {
                    "type": "string",
                    "minLength": 1
                },
                "service_interface_deployment": {
                    "type": "string",
                    "minLength": 1
                },
                "event_deployment": {
                    "type": "string",
                    "minLength": 1
                },
                "instance_id": {
                    "type": "string",
                    "minLength": 1
                },
                "transport_plugin": {
                    "type": "string",
                    "minLength": 1,
                    "enum": [
                        "UDP",
                        "SHM",
                        "DSHM",
                        "NDSHM",
                        "ICC",
                        "ICC+DSHM",
                        "ICC+NDSHM",
                        "ICC+SHM"
                    ]
                },
                "domain_id": {
                    "type": "integer"
                }
            }
        }
    },
    "type": "object",
    "properties": {
        "additionalProperties": false,
        "datatypes": {
            "type": "array",
            "uniqueItems": true,
            "items": {
                "type": "object",
                "required": [
                    "name",
                    "header_file",
                    "struct"
                ],
                "additionalProperties": false,
                "properties": {
                    "name": {
                        "type": "string",
                        "minLength": 1
                    },
                    "header_file": {
                        "type": "string",
                        "minLength": 1,
                        "pattern": "(\\w+\\.h|\\w+\\.hpp)"
                    },
                    "struct": {
                        "type": "string",
                        "minLength": 1,
                        "pattern": "\\w+::\\w+"
                    },
                    "huawei_ap": {
                        "type": "object",
                        "additionalProperties": false,
                        "properties": {
                            "frag_size": {
                                "type": "integer"
                            },
                            "list_size": {
                                "type": "integer"
                            },
                            "interface_id": {
                                "type": "integer"
                            }
                        }
                    }
                }
            }
        },
        "topics": {
            "type": "array",
            "uniqueItems": true,
            "items": {
                "type": "object",
                "required": [
                    "name",
                    "datatype",
                    "mfr_topic"
                ],
                "additionalProperties": false,
                "properties": {
                    "name": {
                        "type": "string",
                        "minLength": 1
                    },
                    "datatype": {
                        "type": "string",
                        "minLength": 1
                    },
                    "mfr_topic": {
                        "type": "string",
                        "minLength": 1,
                        "pattern": "^/[\\w/]+"
                    },
                    "huawei_ap": {
                        "type": "object",
                        "additionalProperties": false,
                        "properties": {
                            "use_some_ip": {
                                "type": "boolean"
                            },
                            "domain_id": {
                                "type": "integer"
                            }
                        }
                    }
                }
            }
        },
        "swcs": {
            "type": "array",
            "uniqueItems": true,
            "items": {
                "type": "object",
                "additionalProperties": false,
                "required": [
                    "name"
                ],
                "properties": {
                    "name": {
                        "type": "string",
                        "minLength": 1
                    },
                    "group": {
                        "type": "string",
                        "minLength": 1
                    },
                    "description": {
                        "type": "string",
                        "minLength": 1
                    },
                    "huawei_ap": {
                        "type": "object",
                        "additionalProperties": false,
                        "properties": {
                            "in_aos_core": {
                                "type": "boolean"
                            },
                            "sub_huawei_ports": {
                                "type": "array",
                                "uniqueItems": true,
                                "items": {
                                    "$ref": "#/definitions/huawei_port"
                                }
                            },
                            "pub_huawei_ports": {
                                "type": "array",
                                "uniqueItems": true,
                                "items": {
                                    "$ref": "#/definitions/huawei_port"
                                }
                            }
                        }
                    },
                    "sub_ports": {
                        "type": "array",
                        "uniqueItems": true,
                        "items": {
                            "$ref": "#/definitions/port"
                        }
                    },
                    "pub_ports": {
                        "type": "array",
                        "uniqueItems": true,
                        "items": {
                            "$ref": "#/definitions/port"
                        }
                    },
                    "envs": {
                        "type": "array",
                        "uniqueItems": true,
                        "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                                "name": {
                                    "type": "string",
                                    "minLength": 1
                                },
                                "value": {
                                    "type": "string",
                                    "minLength": 1
                                }
                            }
                        }
                    },
                    "affinity": {
                        "type": "string",
                        "minLength": 1
                    },
                    "dependencies": {
                        "type": "array",
                        "uniqueItems": true,
                        "items": {
                            "type": "string",
                            "minLength": 1
                        }
                    }
                }
            }
        }
    }
}