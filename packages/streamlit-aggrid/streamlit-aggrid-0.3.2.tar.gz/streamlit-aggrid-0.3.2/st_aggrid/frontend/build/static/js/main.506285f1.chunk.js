(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{314:function(t,e,a){},315:function(t,e,a){},317:function(t,e,a){"use strict";a.r(e);var r=a(37),n=a.n(r),o=a(110),i=a.n(o),s=a(32),u=a(2),c=a(3),d=a(5),l=a(6),p=a(211),m=a(239),f=a(0),h=a(246),v=a(34),g=a(243),y=a(244),b=a(209),O=a(245),F=a(250),_=a(252),j=a(251),w=a(210),C=a(253),k=a(63),D=a(249),x=a(254),N=a(109),S=a(247),R=a(320),E=a(319),A=a(248);var G=function t(e,a){var r=function(e){return null!==e&&"object"===typeof e?t(e,a):a(e)};return Array.isArray(e)?e.map(r):"object"===typeof e?function(t,e){return Object.keys(t).reduce((function(a,r){return a[r]=e(t[r]),a}),{})}(e,r):e},U=a(241),L=a(242),H=(a(314),a(315),a(70));var J=function(t){Object(d.a)(a,t);var e=Object(l.a)(a);function a(t){var r,n=this;Object(u.a)(this,a),(r=e.call(this,t)).frameDtypes=void 0,r.api=void 0,r.columnApi=void 0,r.columnFormaters=void 0,r.manualUpdateRequested=!1,r.allowUnsafeJsCode=!1,r.fitColumnsOnGridLoad=!1,r.gridOptions=void 0,r.convertJavascriptCodeOnGridOptions=function(t){return G(t,r.convertStringToFunction)},r.render=function(){return void 0!==r.api&&r.state.should_update&&r.api.setRowData(r.state.rowData),r.loadColumnsState(),Object(H.jsxs)("div",{className:"ag-theme-"+r.props.args.theme,style:r.defineContainerHeight(),children:[Object(H.jsx)(n.ManualUpdateButton,{manual_update:r.manualUpdateRequested,onClick:function(t){return r.returnGridValue(t)}}),Object(H.jsx)(m.AgGridReact,{onGridReady:function(t){return r.onGridReady(t)},gridOptions:r.gridOptions})]})},f.ModuleRegistry.register(h.a),t.args.custom_css&&function(t){var e=function(t){var e=[];for(var a in t){var r=a+" {";for(var n in t[a])r+=n+": "+t[a][n]+";";r+="}",e.push(r)}return e.join("\n")}(t),a=document.createElement("style");a.type="text/css",a.innerText=e,document.head.appendChild(a)}(t.args.custom_css),t.args.enable_enterprise_modules&&(f.ModuleRegistry.registerModules([O.a,g.a,y.a,b.a,F.a,_.a,j.a,w.a,C.a,k.c,D.a,x.a,N.a,S.a]),"license_key"in t.args&&v.b.setLicenseKey(t.args.license_key)),r.frameDtypes=r.props.args.frame_dtypes,r.manualUpdateRequested=1===r.props.args.update_mode,r.allowUnsafeJsCode=r.props.args.allow_unsafe_jscode,r.fitColumnsOnGridLoad=r.props.args.fit_columns_on_grid_load,r.columnFormaters={columnTypes:{dateColumnFilter:{filter:"agDateColumnFilter",filterParams:{comparator:function(t,e){return Object(R.a)(Object(E.a)(e),t)}}},numberColumnFilter:{filter:"agNumberColumnFilter"},shortDateTimeFormat:{valueFormatter:function(t){return r.dateFormatter(t.value,"dd/MM/yyyy HH:mm")}},customDateTimeFormat:{valueFormatter:function(t){return r.dateFormatter(t.value,t.column.colDef.custom_format_string)}},customNumericFormat:{valueFormatter:function(t){var e;return r.numberFormatter(t.value,null!==(e=t.column.colDef.precision)&&void 0!==e?e:2)}},customCurrencyFormat:{valueFormatter:function(t){return r.currencyFormatter(t.value,t.column.colDef.custom_currency_symbol)}},timedeltaFormat:{valueFormatter:function(t){return Object(U.duration)(t.value).humanize(!0)}}}};var o=Object.assign({},r.columnFormaters,r.props.args.gridOptions);return r.allowUnsafeJsCode&&(console.warn("flag allow_unsafe_jscode is on."),o=r.convertJavascriptCodeOnGridOptions(o)),r.gridOptions=o,r.state={rowData:JSON.parse(t.args.row_data),gridHeight:r.props.args.height,should_update:!1},r}return Object(c.a)(a,[{key:"convertStringToFunction",value:function(t){var e="--x_x--0_0--",a=new RegExp("".concat(e,"\\s*((function|class)\\s*.*)\\s*").concat(e)).exec(t);if(a){var r=a[1];return new Function("return "+r)()}return t}},{key:"attachUpdateEvents",value:function(t){var e=this,a=this.props.args.update_on[0],r=function(t){return e.returnGridValue(t)};a.forEach((function(e){Array.isArray(e)?t.addEventListener(e[0],Object(L.debounce)(r,e[1])):t.addEventListener(e,r)}))}},{key:"loadColumnsState",value:function(){var t=this.props.args.columns_state;null!=t&&this.columnApi.applyColumnState({state:t,applyOrder:!0})}},{key:"onGridReady",value:function(t){var e=this;for(var a in this.api=t.api,this.columnApi=t.columnApi,this.attachUpdateEvents(this.api),this.api.forEachDetailGridInfo((function(t){void 0!==t.api&&e.attachUpdateEvents(t.api)})),this.api.addEventListener("firstDataRendered",(function(t){return e.fitColumns()})),this.api.setRowData(this.state.rowData),this.gridOptions.preSelectedRows)this.api.selectIndex(this.gridOptions.preSelectedRows[a],!0,!0)}},{key:"fitColumns",value:function(){this.fitColumnsOnGridLoad?this.api.sizeColumnsToFit():this.columnApi.autoSizeAllColumns()}},{key:"dateFormatter",value:function(t,e){try{var a=Object(E.a)(t);return Object(A.a)(a,e)}catch(r){return t}}},{key:"currencyFormatter",value:function(t,e){var a=Number.parseFloat(t);return Number.isNaN(a)?t:e+a.toFixed(2)}},{key:"numberFormatter",value:function(t,e){var a=Number.parseFloat(t);return Number.isNaN(a)?t:a.toFixed(e)}},{key:"returnGridValue",value:function(t){var e=[];switch(this.props.args.data_return_mode){case 0:this.api.forEachLeafNode((function(t){return e.push(t.data)}));break;case 1:this.api.forEachNodeAfterFilter((function(t){t.group||e.push(t.data)}));break;case 2:this.api.forEachNodeAfterFilterAndSort((function(t){t.group||e.push(t.data)}))}var a={};this.api.forEachDetailGridInfo((function(t){var e;a[t.id]=[],null===(e=t.api)||void 0===e||e.forEachNode((function(e){e.isSelected()&&a[t.id].push(e)}))}));var r={originalDtypes:this.frameDtypes,rowData:e,selectedRows:this.api.getSelectedRows(),selectedItems:this.api.getSelectedNodes().map((function(t){return Object(s.a)({rowIndex:t.rowIndex},t.data)})),colState:this.columnApi.getColumnState()};p.a.setComponentValue(r)}},{key:"ManualUpdateButton",value:function(t){return t.manual_update?Object(H.jsx)("button",{onClick:t.onClick,children:"Update"}):Object(H.jsx)("span",{})}},{key:"defineContainerHeight",value:function(){return"domLayout"in this.gridOptions&&"autoHeight"===this.gridOptions.domLayout?{width:this.props.width}:{width:this.props.width,height:this.state.gridHeight}}}],[{key:"getDerivedStateFromProps",value:function(t,e){return t.args.reload_data?{rowData:JSON.parse(t.args.row_data),gridHeight:t.args.height,should_update:!0}:{gridHeight:t.args.height}}}]),a}(p.b),M=Object(p.c)(J);i.a.render(Object(H.jsx)(n.a.StrictMode,{children:Object(H.jsx)(M,{})}),document.getElementById("root"))}},[[317,1,2]]]);
//# sourceMappingURL=main.506285f1.chunk.js.map