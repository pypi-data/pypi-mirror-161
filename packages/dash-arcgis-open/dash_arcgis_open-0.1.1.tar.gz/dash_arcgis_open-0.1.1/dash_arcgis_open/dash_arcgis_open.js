!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):"object"==typeof exports?exports.dash_arcgis_open=t(require("react")):e.dash_arcgis_open=t(e.React)}(self,(e=>(()=>{var t={735:function(e,t){!function(e){"use strict";var t={Promise:"undefined"!=typeof window?window.Promise:void 0},r="4.24",n="next";function o(e){if(e.toLowerCase()===n)return n;var t=e&&e.match(/^(\d)\.(\d+)/);return t&&{major:parseInt(t[1],10),minor:parseInt(t[2],10)}}function i(e){return void 0===e&&(e=r),"https://js.arcgis.com/".concat(e,"/")}function a(e){return!e||o(e)?function(e){void 0===e&&(e=r);var t=i(e),a=o(e);if(a!==n&&3===a.major){var s=a.minor<=10?"js/":"";return"".concat(t).concat(s,"esri/css/esri.css")}return"".concat(t,"esri/themes/light/main.css")}(e):e}function s(e,t){var r=a(e),n=function(e){return document.querySelector('link[href*="'.concat(e,'"]'))}(r);return n||function(e,t){if(t){var r=document.querySelector(t);r.parentNode.insertBefore(e,r)}else document.head.appendChild(e)}(n=function(e){var t=document.createElement("link");return t.rel="stylesheet",t.href=e,t}(r),t),n}var c={};function u(e,t,r){var n;r&&(n=function(e,t){var r=function(n){t(n.error||new Error("There was an error attempting to load ".concat(e.src))),e.removeEventListener("error",r,!1)};return e.addEventListener("error",r,!1),r}(e,r));var o=function(){t(e),e.removeEventListener("load",o,!1),n&&e.removeEventListener("error",n,!1)};e.addEventListener("load",o,!1)}function d(){return document.querySelector("script[data-esri-loader]")}function l(){var e=window.require;return e&&e.on}function p(e){void 0===e&&(e={});var r={};[c,e].forEach((function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t])}));var n=r.version,o=r.url||i(n);return new t.Promise((function(e,t){var i=d();if(i){var a=i.getAttribute("src");a!==o?t(new Error("The ArcGIS API for JavaScript is already loaded (".concat(a,")."))):l()?e(i):u(i,e,t)}else if(l())t(new Error("The ArcGIS API for JavaScript is already loaded."));else{var c=r.css;c&&s(!0===c?n:c,r.insertCssBefore),u(i=function(e){var t=document.createElement("script");return t.type="text/javascript",t.src=e,t.setAttribute("data-esri-loader","loading"),t}(o),(function(){i.setAttribute("data-esri-loader","loaded"),e(i)}),t),document.body.appendChild(i)}}))}function f(e){return new t.Promise((function(t,r){var n=window.require.on("error",r);window.require(e,(function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];n.remove(),t(e)}))}))}e.utils=t,e.loadModules=function(e,t){if(void 0===t&&(t={}),l())return f(e);var r=d(),n=r&&r.getAttribute("src");return!t.url&&n&&(t.url=n),p(t).then((function(){return f(e)}))},e.getScript=d,e.isLoaded=l,e.loadScript=p,e.setDefaultOptions=function(e){void 0===e&&(e={}),c=e},e.loadCss=s,Object.defineProperty(e,"__esModule",{value:!0})}(t)},812:t=>{"use strict";t.exports=e}},r={};function n(e){var o=r[e];if(void 0!==o)return o.exports;var i=r[e]={exports:{}};return t[e].call(i.exports,i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};return(()=>{"use strict";n.r(o),n.d(o,{GeoJSONLayer:()=>c,MapView:()=>s});var e=n(812),t=n.n(e),r=n(735);async function i({view:e,_type:t,...n},o=!0){let i=(0,r.loadModules)([`esri/widgets/${t}`],{css:!0}).then((([r])=>{const i={view:e,...n};["Bookmarks"].includes(t)&&(i.container=document.createElement("div"));const a=new r(i);return o&&e.ui.add(a,n.position),console.log("inside async function: created widget",a),a})).catch((e=>console.error(e)));return await i}const a=({id:t,map:n,view:o,center:a,zoom:s,setProps:c,extent:u,breakpoints:d,constraints:l,widthBreakpoint:p,heightBreakpoint:f,children:v})=>(null===o||null===n||(null!==d?o.breakpoints=d:c({breakpoints:o.breakpoints}),null!==p?o.widthBreakpoint=p:c({widthBreakpoint:o.widthBreakpoint}),null!==f?o.heightBreakpoint=f:c({heightBreakpoint:o.heightBreakpoint}),(0,e.useEffect)((()=>{o.goTo({center:a,zoom:s}),c({extent:o.extent})}),[a,s]),(0,e.useEffect)((()=>{o.goTo({extent:u}),c({zoom:o.zoom}),c({center:o.center})}),[u]),v.map((t=>{t.map=n,t.view=o,(0,e.useEffect)((()=>{!async function(e){switch(e._type){case"GeoJSONLayer":!function({map:e,...t}){(0,r.loadModules)(["esri/layers/GeoJSONLayer"],{css:!0}).then((([r])=>{console.log("props",t);const n=new r({...t});console.log("myLayer",n),e.add(n)})).catch((e=>console.error(e)))}(e);break;case"BasemapGallery":case"Bookmarks":case"Home":case"Legend":case"Editor":let t=await i(e,!0);break;case"Expand":const n=e.children.props;n._type=e.children.type,n.view=e.view,widgetPromise=i(n,!1).then((t=>(e.content=t,i(e,!0)))),t=await widgetPromise;break;default:console.log("layer type not supported")}widget}(t)}),[t])}))),null);function s(n){var o=n.id,i=n.style,s=n.center,c=n.zoom,u=n.basemap,d=n.setProps,l=n.extent,p=n.breakpoints,f=n.constraints,v=n.widthBreakpoint,m=n.heightBreakpoint,h=n.children,y=(0,e.useState)(null),w=y[0],g=y[1],b=(0,e.useState)(null),k=b[0],E=b[1],x=(0,e.useRef)(null);h||(h=[]);var P=(h=(e=>e&&!Array.isArray(e)?[e]:e)(h)).map((function(e){return(e=>{const t=e.props._dashprivate_layout.type,r=e.props._dashprivate_layout.props;return r._type=t,r})(e)}));return(0,e.useEffect)((function(){var e;return(0,r.loadModules)(["esri/views/MapView","esri/Map"],{css:!0}).then((function(t){var r=t[0],n=new(0,t[1])({basemap:u});e=new r({map:n,zoom:c,center:s}),g(e),E(n)})),function(){e&&(e.destroy(),e=null)}}),[o]),t().createElement("div",{style:i},t().createElement(a,{map:k,view:w,center:s,zoom:c,setProps:d,breakpoints:p,extent:l,constraints:f,widthBreakpoint:v,heightBreakpoint:m,children:P,id:"a"}),t().createElement("div",{id:o,style:{padding:"0",margin:"0",height:"100%",width:"100%"},ref:x}),";")}function c(e){return e.id,e.url,t().createElement("div",null)}s.defaultProps={center:[.13,51.51],zoom:10,basemap:"streets-navigation-vector",breakpoints:{xsmall:544,small:768,medium:992,large:1200,xlarge:1600},resizeAlign:"center"},c.defaultProps={}})(),o})()));